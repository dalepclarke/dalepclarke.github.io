(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e9d966a6"],{"002a":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r("fa73"),n=r("ed77"),s=r("4114");class a{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,n["a"].LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?s["a"].shared:new s["a"],e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}a.extension=i["a"].Application},"011b":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var i=r("fa73"),n=r("98d5"),s=r("75cf"),a=r("0c61");class o{constructor(e){this._gpuSpriteHash=Object.create(null),this._renderer=e}addRenderable(e,t){const r=this._getGpuSprite(e);e._didSpriteUpdate&&this._updateBatchableSprite(e,r),this._renderer.renderPipes.batch.addToBatch(r)}updateRenderable(e){const t=this._gpuSpriteHash[e.uid];e._didSpriteUpdate&&this._updateBatchableSprite(e,t),t.batcher.updateElement(t)}validateRenderable(e){const t=e._texture,r=this._getGpuSprite(e);return r.texture._source!==t._source&&!r.batcher.checkAndUpdateTexture(r,t)}destroyRenderable(e){const t=this._gpuSpriteHash[e.uid];n["a"].return(t),this._gpuSpriteHash[e.uid]=null}_updateBatchableSprite(e,t){e._didSpriteUpdate=!1,t.geometry.update(e),t.texture=e._texture}_getGpuSprite(e){return this._gpuSpriteHash[e.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const t=new s["a"];return t.geometry=new a["a"],t.mesh=e,t.texture=e._texture,t.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuSpriteHash[e.uid]=t,e.on("destroyed",()=>{this.destroyRenderable(e)}),t}destroy(){for(const e in this._gpuSpriteHash){const t=this._gpuSpriteHash[e];t.geometry.destroy()}this._gpuSpriteHash=null,this._renderer=null}}o.extension={type:[i["a"].WebGLPipes,i["a"].WebGPUPipes,i["a"].CanvasPipes],name:"nineSliceSprite"}},"0b23":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var i=r("536a");async function n(e){const t=await i["a"].get().fetch(e),r=await t.blob(),n=new FileReader,s=await new Promise((e,t)=>{n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)});return s}},"0c61":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var i=r("884a");const n=class e extends i["a"]{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t={...e.defaultOptions,...t},super({width:t.width,height:t.height,verticesX:4,verticesY:4}),this.update(t)}update(e){var t,r,i,n,s,a,o,d;this.width=null!==(t=e.width)&&void 0!==t?t:this.width,this.height=null!==(r=e.height)&&void 0!==r?r:this.height,this._originalWidth=null!==(i=e.originalWidth)&&void 0!==i?i:this._originalWidth,this._originalHeight=null!==(n=e.originalHeight)&&void 0!==n?n:this._originalHeight,this._leftWidth=null!==(s=e.leftWidth)&&void 0!==s?s:this._leftWidth,this._rightWidth=null!==(a=e.rightWidth)&&void 0!==a?a:this._rightWidth,this._topHeight=null!==(o=e.topHeight)&&void 0!==o?o:this._topHeight,this._bottomHeight=null!==(d=e.bottomHeight)&&void 0!==d?d:this._bottomHeight,this.updateUvs(),this.updatePositions()}updatePositions(){const e=this.positions,t=this._leftWidth+this._rightWidth,r=this.width>t?1:this.width/t,i=this._topHeight+this._bottomHeight,n=this.height>i?1:this.height/i,s=Math.min(r,n);e[9]=e[11]=e[13]=e[15]=this._topHeight*s,e[17]=e[19]=e[21]=e[23]=this.height-this._bottomHeight*s,e[25]=e[27]=e[29]=e[31]=this.height,e[2]=e[10]=e[18]=e[26]=this._leftWidth*s,e[4]=e[12]=e[20]=e[28]=this.width-this._rightWidth*s,e[6]=e[14]=e[22]=e[30]=this.width,this.getBuffer("aPosition").update()}updateUvs(){const e=this.uvs;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1;const t=1/this._originalWidth,r=1/this._originalHeight;e[2]=e[10]=e[18]=e[26]=t*this._leftWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[4]=e[12]=e[20]=e[28]=1-t*this._rightWidth,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.getBuffer("aUV").update()}};n.defaultOptions={width:100,height:100,leftWidth:10,topHeight:10,rightWidth:10,bottomHeight:10,originalWidth:100,originalHeight:100};let s=n},1486:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("907a"),r("986a"),r("1d02"),r("3c5d"),r("1b3b"),r("3d71"),r("c6e3");var i=r("6b75");class n extends i["a"]{constructor(){super({positions:new Float32Array([0,0,1,0,1,1,0,1]),uvs:new Float32Array([0,0,1,0,1,1,0,1]),indices:new Uint32Array([0,1,2,0,2,3])})}}},"14f3":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("14d9");var i=r("fa73");class n{constructor(e){this._renderer=e}push(e,t,r){const i=this._renderer.renderPipes;i.batch.break(r),r.add({renderPipeId:"filter",canBundle:!1,action:"pushFilter",container:t,filterEffect:e})}pop(e,t,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}execute(e){"pushFilter"===e.action?this._renderer.filter.push(e):"popFilter"===e.action&&this._renderer.filter.pop()}destroy(){this._renderer=null}}n.extension={type:[i["a"].WebGLPipes,i["a"].WebGPUPipes,i["a"].CanvasPipes],name:"filter"}},"16b5":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("14d9");const i={test(e){return"string"===typeof e&&e.startsWith("info face=")},parse(e){var t;const r=e.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const p in r){const e=r[p].match(/^[a-z]+/gm)[0],t=r[p].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),n={};for(const r in t){const e=t[r].split("="),i=e[0],s=e[1].replace(/"/gm,""),a=parseFloat(s),o=isNaN(a)?s:a;n[i]=o}i[e].push(n)}const n={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[s]=i.info,[a]=i.common,[o]=null!==(t=i.distanceField)&&void 0!==t?t:[];o&&(n.distanceField={range:parseInt(o.distanceRange,10),type:o.fieldType}),n.fontSize=parseInt(s.size,10),n.fontFamily=s.face,n.lineHeight=parseInt(a.lineHeight,10);const d=i.page;for(let p=0;p<d.length;p++)n.pages.push({id:parseInt(d[p].id,10)||0,file:d[p].file});const c={};n.baseLineOffset=n.lineHeight-parseInt(a.base,10);const l=i.char;for(let p=0;p<l.length;p++){var u,h;const e=l[p],t=parseInt(e.id,10);let r=null!==(u=null!==(h=e.letter)&&void 0!==h?h:e.char)&&void 0!==u?u:String.fromCharCode(t);"space"===r&&(r=" "),c[t]=r,n.chars[r]={id:t,page:parseInt(e.page,10)||0,x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xOffset:parseInt(e.xoffset,10),yOffset:parseInt(e.yoffset,10),xAdvance:parseInt(e.xadvance,10),kerning:{}}}const f=i.kerning||[];for(let p=0;p<f.length;p++){const e=parseInt(f[p].first,10),t=parseInt(f[p].second,10),r=parseInt(f[p].amount,10);n.chars[c[t]].kerning[c[e]]=r}return n}}},1814:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return n}));const i={name:"tiling-bit",vertex:{header:"\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        ",main:"\n            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;\n\n            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;\n        "},fragment:{header:"\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        ",main:"\n\n            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);\n            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;\n            var unclamped = coord;\n            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);\n\n            var bias = 0.;\n\n            if(unclamped.x == coord.x && unclamped.y == coord.y)\n            {\n                bias = -32.;\n            } \n\n            outColor = textureSampleBias(uTexture, uSampler, coord, bias);\n        "}},n={name:"tiling-bit",vertex:{header:"\n            uniform mat3 uTextureTransform;\n            uniform vec4 uSizeAnchor;\n        \n        ",main:"\n            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;\n\n            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;\n        "},fragment:{header:"\n            uniform sampler2D uTexture;\n            uniform mat3 uMapCoord;\n            uniform vec4 uClampFrame;\n            uniform vec2 uClampOffset;\n        ",main:"\n\n        vec2 coord = vUV + ceil(uClampOffset - vUV);\n        coord = (uMapCoord * vec3(coord, 1.0)).xy;\n        vec2 unclamped = coord;\n        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n        \n        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0\n    \n        "}}},"1f0c":function(e,t,r){"use strict";var i=r("fa73"),n=r("4220"),s=r("73f4");i["b"].add(s["a"]),i["b"].add(n["a"])},"22ec":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var i=r("fa73");class n{static init(e){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this._cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this._cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let e,t;if(this._cancelResize(),this._resizeTo===globalThis.window)e=globalThis.innerWidth,t=globalThis.innerHeight;else{const{clientWidth:r,clientHeight:i}=this._resizeTo;e=r,t=i}this.renderer.resize(e,t),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}n.extension=i["a"].Application},"23e6":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r("907a"),r("986a"),r("1d02"),r("3c5d"),r("1b3b"),r("3d71"),r("c6e3");var i=r("fa73"),n=r("2714"),s=r("45d1c"),a=r("3456"),o=r("98d5"),d=r("1202"),c=r("75cf");class l{constructor(e,t){this.localUniforms=new a["a"]({uTransformMatrix:{value:new n["a"],type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),this.localUniformsBindGroup=new s["a"]({0:this.localUniforms}),this._meshDataHash=Object.create(null),this._gpuBatchableMeshHash=Object.create(null),this.renderer=e,this._adaptor=t,this._adaptor.init()}validateRenderable(e){const t=this._getMeshData(e),r=t.batched,i=e.batched;if(t.batched=i,r!==i)return!0;if(i){const r=e._geometry;if(r.indices.length!==t.indexSize||r.positions.length!==t.vertexSize)return t.indexSize=r.indices.length,t.vertexSize=r.positions.length,!0;const i=this._getBatchableMesh(e),n=e.texture;if(i.texture._source!==n._source&&i.texture._source!==n._source)return!i.batcher.checkAndUpdateTexture(i,n)}return!1}addRenderable(e,t){const r=this.renderer.renderPipes.batch,{batched:i}=this._getMeshData(e);if(i){const t=this._getBatchableMesh(e);t.texture=e._texture,t.geometry=e._geometry,r.addToBatch(t)}else r.break(t),t.add({renderPipeId:"mesh",mesh:e})}updateRenderable(e){if(e.batched){const t=this._gpuBatchableMeshHash[e.uid];t.texture=e._texture,t.geometry=e._geometry,t.batcher.updateElement(t)}}destroyRenderable(e){this._meshDataHash[e.uid]=null;const t=this._gpuBatchableMeshHash[e.uid];t&&(o["a"].return(t),this._gpuBatchableMeshHash[e.uid]=null)}execute(e){let{mesh:t}=e;if(!t.isRenderable)return;t.state.blendMode=t.groupBlendMode;const r=this.localUniforms;r.uniforms.uTransformMatrix=t.groupTransform,r.uniforms.uRound=this.renderer._roundPixels|t._roundPixels,r.update(),Object(d["a"])(t.groupColorAlpha,r.uniforms.uColor,0),this._adaptor.execute(this,t)}_getMeshData(e){return this._meshDataHash[e.uid]||this._initMeshData(e)}_initMeshData(e){var t,r;return this._meshDataHash[e.uid]={batched:e.batched,indexSize:null===(t=e._geometry.indices)||void 0===t?void 0:t.length,vertexSize:null===(r=e._geometry.positions)||void 0===r?void 0:r.length},e.on("destroyed",()=>{this.destroyRenderable(e)}),this._meshDataHash[e.uid]}_getBatchableMesh(e){return this._gpuBatchableMeshHash[e.uid]||this._initBatchableMesh(e)}_initBatchableMesh(e){const t=o["a"].get(c["a"]);return t.mesh=e,t.texture=e._texture,t.roundPixels=this.renderer._roundPixels|e._roundPixels,this._gpuBatchableMeshHash[e.uid]=t,t.mesh=e,t}destroy(){for(const e in this._gpuBatchableMeshHash)this._gpuBatchableMeshHash[e]&&o["a"].return(this._gpuBatchableMeshHash[e]);this._gpuBatchableMeshHash=null,this._meshDataHash=null,this.localUniforms=null,this.localUniformsBindGroup=null,this._adaptor.destroy(),this._adaptor=null,this.renderer=null}}l.extension={type:[i["a"].WebGLPipes,i["a"].WebGPUPipes,i["a"].CanvasPipes],name:"mesh"}},"36dd":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var i=r("cfe4"),n=r("2714"),s=r("af3f"),a=r("2a40"),o=r("bcb7"),d=r("106c");function c(e,t){if(e.texture===s["a"].WHITE&&!e.fill)return i["a"].shared.setValue(e.color).toHex();if(!e.fill){const r=t.createPattern(e.texture.source.resource,"repeat"),i=e.matrix.copyTo(n["a"].shared);return i.scale(e.texture.frame.width,e.texture.frame.height),r.setTransform(i),r}if(e.fill instanceof d["a"]){const r=e.fill,i=t.createPattern(r.texture.source.resource,"repeat"),s=r.transform.copyTo(n["a"].shared);return s.scale(r.texture.frame.width,r.texture.frame.height),i.setTransform(s),i}if(e.fill instanceof o["a"]){const r=e.fill;if("linear"===r.type){const e=t.createLinearGradient(r.x0,r.y0,r.x1,r.y1);return r.gradientStops.forEach(t=>{e.addColorStop(t.offset,i["a"].shared.setValue(t.color).toHex())}),e}}return Object(a["a"])("FillStyle not recognised",e),"red"}},"3f84":function(e,t,r){"use strict";var i=r("fa73"),n=r("14f3"),s=r("e69a");i["b"].add(s["a"]),i["b"].add(n["a"])},4220:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var i=r("fa73"),n=r("af3f"),s=r("82b1"),a=r("98d5"),o=r("3c1c");class d{constructor(e){this._gpuText=Object.create(null),this._renderer=e}validateRenderable(e){const t=this._getGpuText(e),r=e._getKey();return t.textureNeedsUploading?(t.textureNeedsUploading=!1,!0):t.currentKey!==r}addRenderable(e){const t=this._getGpuText(e),r=t.batchableSprite;e._didTextUpdate&&this._updateText(e),this._renderer.renderPipes.batch.addToBatch(r)}updateRenderable(e){const t=this._getGpuText(e),r=t.batchableSprite;e._didTextUpdate&&this._updateText(e),r.batcher.updateElement(r)}destroyRenderable(e){this._destroyRenderableById(e.uid)}_destroyRenderableById(e){const t=this._gpuText[e];this._renderer.htmlText.decreaseReferenceCount(t.currentKey),a["a"].return(t.batchableSprite),this._gpuText[e]=null}_updateText(e){const t=e._getKey(),r=this._getGpuText(e),i=r.batchableSprite;r.currentKey!==t&&this._updateGpuText(e).catch(e=>{console.error(e)}),e._didTextUpdate=!1;const n=e._style.padding;Object(s["a"])(i.bounds,e._anchor,i.texture,n)}async _updateGpuText(e){var t;e._didTextUpdate=!1;const r=this._getGpuText(e);if(r.generatingTexture)return;const i=e._getKey();this._renderer.htmlText.decreaseReferenceCount(r.currentKey),r.generatingTexture=!0,r.currentKey=i;const n=null!==(t=e.resolution)&&void 0!==t?t:this._renderer.resolution,a=await this._renderer.htmlText.getManagedTexture(e.text,n,e._style,e._getKey()),o=r.batchableSprite;o.texture=r.texture=a,r.generatingTexture=!1,r.textureNeedsUploading=!0,e.onViewUpdate();const d=e._style.padding;Object(s["a"])(o.bounds,e._anchor,o.texture,d)}_getGpuText(e){return this._gpuText[e.uid]||this.initGpuText(e)}initGpuText(e){const t={texture:n["a"].EMPTY,currentKey:"--",batchableSprite:a["a"].get(o["a"]),textureNeedsUploading:!1,generatingTexture:!1},r=t.batchableSprite;return r.renderable=e,r.texture=n["a"].EMPTY,r.bounds={minX:0,maxX:1,minY:0,maxY:0},r.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuText[e.uid]=t,e.on("destroyed",()=>{this.destroyRenderable(e)}),t}destroy(){for(const e in this._gpuText)this._destroyRenderableById(e);this._gpuText=null,this._renderer=null}}d.extension={type:[i["a"].WebGLPipes,i["a"].WebGPUPipes,i["a"].CanvasPipes],name:"htmlText"}},4953:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));r("907a"),r("986a"),r("1d02"),r("3c5d"),r("1b3b"),r("3d71"),r("c6e3");var i=r("2714"),n=r("c1ba"),s=r("8cbc"),a=r("0a79"),o=r("6f6c"),d=r("3f58"),c=r("f172"),l=r("cb48"),u=r("3456"),h=r("aab0"),f=r("7633");class p extends l["a"]{constructor(){const e=new u["a"]({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new i["a"],type:"mat3x3<f32>"},uDistance:{value:4,type:"f32"},uRound:{value:0,type:"f32"}}),t=Object(s["b"])({name:"sdf-shader",bits:[a["a"],Object(o["a"])(n["a"]),h["a"],f["a"],d["a"]]}),r=Object(s["a"])({name:"sdf-shader",bits:[a["b"],Object(o["b"])(n["a"]),h["b"],f["b"],d["b"]]});super({glProgram:r,gpuProgram:t,resources:{localUniforms:e,batchSamplers:c["a"]}})}}},"57da":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var i=r("536a"),n=r("5ee4");const s={test(e){return!("string"!==typeof e||!e.includes("<font>"))&&n["a"].test(i["a"].get().parseXML(e))},parse(e){return n["a"].parse(i["a"].get().parseXML(e))}}},"5dd8":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var i=r("536a");function n(){const{userAgent:e}=i["a"].get().getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}},"5ee4":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("14d9");const i={test(e){const t=e;return"string"!==typeof t&&"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},parse(e){const t={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},r=e.getElementsByTagName("info")[0],i=e.getElementsByTagName("common")[0],n=e.getElementsByTagName("distanceField")[0];n&&(t.distanceField={type:n.getAttribute("fieldType"),range:parseInt(n.getAttribute("distanceRange"),10)});const s=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),o=e.getElementsByTagName("kerning");t.fontSize=parseInt(r.getAttribute("size"),10),t.fontFamily=r.getAttribute("face"),t.lineHeight=parseInt(i.getAttribute("lineHeight"),10);for(let u=0;u<s.length;u++)t.pages.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});const d={};t.baseLineOffset=t.lineHeight-parseInt(i.getAttribute("base"),10);for(let u=0;u<a.length;u++){var c,l;const e=a[u],r=parseInt(e.getAttribute("id"),10);let i=null!==(c=null!==(l=e.getAttribute("letter"))&&void 0!==l?l:e.getAttribute("char"))&&void 0!==c?c:String.fromCharCode(r);"space"===i&&(i=" "),d[r]=i,t.chars[i]={id:r,page:parseInt(e.getAttribute("page"),10)||0,x:parseInt(e.getAttribute("x"),10),y:parseInt(e.getAttribute("y"),10),width:parseInt(e.getAttribute("width"),10),height:parseInt(e.getAttribute("height"),10),xOffset:parseInt(e.getAttribute("xoffset"),10),yOffset:parseInt(e.getAttribute("yoffset"),10),xAdvance:parseInt(e.getAttribute("xadvance"),10),kerning:{}}}for(let u=0;u<o.length;u++){const e=parseInt(o[u].getAttribute("first"),10),r=parseInt(o[u].getAttribute("second"),10),i=parseInt(o[u].getAttribute("amount"),10);t.chars[d[r]].kerning[d[e]]=i}return t}}},6419:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("14d9");var i=r("536a"),n=r("c103");class s{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,t){const r=i["a"].get().createCanvas();r.width=e,r.height=t;const n=r.getContext("2d");return{canvas:r,context:n}}getOptimalCanvasAndContext(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e=Math.ceil(e*r-1e-6),t=Math.ceil(t*r-1e-6),e=Object(n["b"])(e),t=Object(n["b"])(t);const i=(e<<17)+(t<<1);this._canvasPool[i]||(this._canvasPool[i]=[]);let s=this._canvasPool[i].pop();return s||(s=this._createCanvasAndContext(e,t)),s}returnCanvasAndContext(e){const{width:t,height:r}=e.canvas,i=(t<<17)+(r<<1);this._canvasPool[i].push(e)}clear(){this._canvasPool={}}}const a=new s},"66b2":function(e,t,r){"use strict";function i(e,t,r,i){let n=0;const s=e.length/(t||2),a=i.a,o=i.b,d=i.c,c=i.d,l=i.tx,u=i.ty;r*=t;while(n<s){const i=e[r],s=e[r+1];e[r]=a*i+d*s+l,e[r+1]=o*i+c*s+u,r+=t,n++}}r.d(t,"a",(function(){return i}))},"6b75":function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));r("907a"),r("986a"),r("1d02"),r("3c5d"),r("1b3b"),r("3d71"),r("c6e3");var i=r("dd6c"),n=r("1103"),s=r("c0bf"),a=r("6391");const o=class e extends s["a"]{constructor(){var t;let r=null!==(t=arguments.length<=0?void 0:arguments[0])&&void 0!==t?t:{};r instanceof Float32Array&&(Object(a["a"])(a["b"],"use new MeshGeometry({ positions, uvs, indices }) instead"),r={positions:r,uvs:arguments.length<=1?void 0:arguments[1],indices:arguments.length<=2?void 0:arguments[2]}),r={...e.defaultOptions,...r};const s=r.positions||new Float32Array([0,0,1,0,1,1,0,1]),o=r.uvs||new Float32Array([0,0,1,0,1,1,0,1]),d=r.indices||new Uint32Array([0,1,2,0,2,3]),c=r.shrinkBuffersToFit,l=new i["a"]({data:s,label:"attribute-mesh-positions",shrinkToFit:c,usage:n["a"].VERTEX|n["a"].COPY_DST}),u=new i["a"]({data:o,label:"attribute-mesh-uvs",shrinkToFit:c,usage:n["a"].VERTEX|n["a"].COPY_DST}),h=new i["a"]({data:d,label:"index-mesh-buffer",shrinkToFit:c,usage:n["a"].INDEX|n["a"].COPY_DST});super({attributes:{aPosition:{buffer:l,format:"float32x2",stride:8,offset:0},aUV:{buffer:u,format:"float32x2",stride:8,offset:0}},indexBuffer:h,topology:r.topology}),this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(e){this.attributes.aPosition.buffer.data=e}get uvs(){return this.attributes.aUV.buffer.data}set uvs(e){this.attributes.aUV.buffer.data=e}get indices(){return this.indexBuffer.data}set indices(e){this.indexBuffer.data=e}};o.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};let d=o},"73bc":function(e,t,r){"use strict";var i=r("fa73"),n=r("d6b1"),s=r("bb3c");i["b"].add(s["a"],n["b"],n["a"])},"73f4":function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var i=r("fa73"),n=r("1226"),s=r("fd09"),a=r("5dd8"),o=r("2a40"),d=r("98d5"),c=r("9ed8"),l=r("e4cf"),u=r("c90b"),h=r("dfe2"),f=r("98c9"),p=r("ab6b"),g=r("f499"),m=r("8d6d"),x=r("d261");class b{constructor(e){this._activeTextures={},this._renderer=e,this._createCanvas=e.type===s["a"].WEBGPU}getTexture(e){return this._buildTexturePromise(e.text,e.resolution,e.style)}getManagedTexture(e,t,r,i){if(this._activeTextures[i])return this._increaseReferenceCount(i),this._activeTextures[i].promise;const n=this._buildTexturePromise(e,t,r).then(e=>(this._activeTextures[i].texture=e,e));return this._activeTextures[i]={texture:null,promise:n,usageCount:1},n}async _buildTexturePromise(e,t,r){const i=d["a"].get(l["a"]),n=Object(h["a"])(e,r),s=await Object(f["a"])(n,r,u["a"].defaultTextStyle),o=Object(x["a"])(e,r,s,i),b=Math.ceil(Math.ceil(Math.max(1,o.width)+2*r.padding)*t),_=Math.ceil(Math.ceil(Math.max(1,o.height)+2*r.padding)*t),v=i.image;v.width=0|b,v.height=0|_;const y=Object(p["a"])(e,r,t,s,i);await Object(m["a"])(v,y,Object(a["a"])()&&n.length>0);let T=v;this._createCanvas&&(T=Object(g["a"])(v,t));const w=Object(c["a"])(T,v.width,v.height,t);return this._createCanvas&&this._renderer.texture.initSource(w.source),d["a"].return(i),w}_increaseReferenceCount(e){this._activeTextures[e].usageCount++}decreaseReferenceCount(e){const t=this._activeTextures[e];t&&(t.usageCount--,0===t.usageCount&&(t.texture?this._cleanUp(t):t.promise.then(e=>{t.texture=e,this._cleanUp(t)}).catch(()=>{Object(o["a"])("HTMLTextSystem: Failed to clean texture")}),this._activeTextures[e]=null))}_cleanUp(e){n["a"].returnTexture(e.texture),e.texture.source.resource=null,e.texture.source.uploadMethodId="unknown"}getReferenceCount(e){return this._activeTextures[e].usageCount}destroy(){this._activeTextures=null}}b.extension={type:[i["a"].WebGLSystem,i["a"].WebGPUSystem,i["a"].CanvasSystem],name:"htmlText"},b.defaultFontOptions={fontFamily:"Arial",fontStyle:"normal",fontWeight:"normal"}},"75cf":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("907a"),r("986a"),r("1d02"),r("3c5d"),r("1b3b"),r("3d71"),r("c6e3");class i{constructor(){this.batcher=null,this.batch=null,this.roundPixels=0,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}get blendMode(){return this.mesh.groupBlendMode}reset(){this.mesh=null,this.texture=null,this.batcher=null,this.batch=null}packIndex(e,t,r){const i=this.geometry.indices;for(let n=0;n<i.length;n++)e[t++]=i[n]+r}packAttributes(e,t,r,i){const n=this.mesh,s=this.geometry,a=n.groupTransform,o=i<<16|65535&this.roundPixels,d=a.a,c=a.b,l=a.c,u=a.d,h=a.tx,f=a.ty,p=s.positions,g=s.getBuffer("aUV"),m=g.data;let x=m;const b=this.texture.textureMatrix;b.isSimple||(x=this._transformedUvs,this._textureMatrixUpdateId===b._updateID&&this._uvUpdateId===g._updateID||((!x||x.length<m.length)&&(x=this._transformedUvs=new Float32Array(m.length)),this._textureMatrixUpdateId=b._updateID,this._uvUpdateId=g._updateID,b.multiplyUvs(m,x)));const _=n.groupColorAlpha;for(let v=0;v<p.length;v+=2){const i=p[v],n=p[v+1];e[r]=d*i+l*n+h,e[r+1]=c*i+u*n+f,e[r+2]=x[v],e[r+3]=x[v+1],t[r+4]=_,t[r+5]=o,r+=6}}get vertexSize(){return this.geometry.positions.length/2}get indexSize(){return this.geometry.indices.length}}},7633:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return n}));const i={name:"msdf-bit",fragment:{header:"\n            fn calculateMSDFAlpha(msdfColor:vec4<f32>, distance:f32) -> f32 {\n                \n                // MSDF\n                var median = msdfColor.r + msdfColor.g + msdfColor.b -\n                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n            \n                // SDF\n                median = min(median, msdfColor.a);\n\n                var screenPxDistance = distance * (median - 0.5);\n                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                return alpha;\n            }\n        "}},n={name:"msdf-bit",fragment:{header:"\n            float calculateMSDFAlpha(vec4 msdfColor, float distance) {\n                \n                // MSDF\n                float median = msdfColor.r + msdfColor.g + msdfColor.b -\n                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n               \n                // SDF\n                median = min(median, msdfColor.a);\n            \n                float screenPxDistance = distance * (median - 0.5);\n                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n           \n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                return alpha;\n            }\n        "}}},"79e8":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r("d9e2");var i=r("34e5"),n=r("6391"),s=r("3430"),a=r("e054"),o=r("ec95"),d=r("ba86");class c{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1}}getFont(e,t){var r;let n=t.fontFamily+"-bitmap",s=!0;if(t._fill.fill&&(n+=t._fill.fill.uid,s=!1),!i["a"].has(n)){const e=new a["a"]({style:t,overrideFill:s,overrideSize:!0,...this.defaultOptions});e.once("destroy",()=>i["a"].remove(n)),i["a"].set(n,e)}const o=i["a"].get(n);return null===(r=o.ensureCharacters)||void 0===r||r.call(o,e),o}getLayout(e,t){const r=this.getFont(e,t);return Object(o["a"])(e.split(""),t,r)}measureText(e,t){return this.getLayout(e,t)}install(){var e;let t=arguments.length<=0?void 0:arguments[0];var r,o,c,l;"string"===typeof t&&(t={name:t,style:arguments.length<=1?void 0:arguments[1],chars:null===(r=arguments.length<=2?void 0:arguments[2])||void 0===r?void 0:r.chars,resolution:null===(o=arguments.length<=2?void 0:arguments[2])||void 0===o?void 0:o.resolution,padding:null===(c=arguments.length<=2?void 0:arguments[2])||void 0===c?void 0:c.padding,skipKerning:null===(l=arguments.length<=2?void 0:arguments[2])||void 0===l?void 0:l.skipKerning},Object(n["a"])(n["b"],"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const u=null===(e=t)||void 0===e?void 0:e.name;if(!u)throw new Error("[BitmapFontManager] Property `name` is required.");t={...this.defaultOptions,...t};const h=t.style,f=h instanceof s["a"]?h:new s["a"](h),p=null!==f._fill.fill&&void 0!==f._fill.fill,g=new a["a"]({style:f,overrideFill:p,skipKerning:t.skipKerning,padding:t.padding,resolution:t.resolution,overrideSize:!1}),m=Object(d["a"])(t.chars);return g.ensureCharacters(m.join("")),i["a"].set(u+"-bitmap",g),g.once("destroy",()=>i["a"].remove(u+"-bitmap")),g}uninstall(e){const t=e+"-bitmap",r=i["a"].get(t);r&&(i["a"].remove(t),r.destroy())}}const l=new c},8062:function(e,t,r){"use strict";var i=r("fa73"),n=r("dea3"),s=r("ccc4");i["b"].add(s["a"]),i["b"].add(n["a"])},"80d1":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r("2714"),n=r("0e48");const s=new i["a"];function a(e,t){return t.clear(),o(e,t),t.isValid||t.set(0,0,0,0),e.isRenderGroupRoot?t.applyMatrix(e.renderGroup.localTransform):t.applyMatrix(e.renderGroup.worldTransform),t}function o(e,t){if(7!==e.localDisplayStatus||!e.measurable)return;const r=!!e.effects.length;let i=t;if((e.isRenderGroupRoot||r)&&(i=n["a"].get().clear()),e.boundsArea)t.addRect(e.boundsArea,e.worldTransform);else{if(e.renderPipeId){const t=e.bounds;i.addFrame(t.minX,t.minY,t.maxX,t.maxY,e.groupTransform)}const t=e.children;for(let e=0;e<t.length;e++)o(t[e],i)}if(r){let r=!1;for(let t=0;t<e.effects.length;t++)e.effects[t].addBounds&&(r||(r=!0,i.applyMatrix(e.renderGroup.worldTransform)),e.effects[t].addBounds(i,!0));r&&(i.applyMatrix(e.renderGroup.worldTransform.copyTo(s).invert()),t.addBounds(i,e.relativeGroupTransform)),t.addBounds(i),n["a"].return(i)}else e.isRenderGroupRoot&&(t.addBounds(i,e.relativeGroupTransform),n["a"].return(i))}},8361:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var i=r("0b23");async function n(e,t){const r=await Object(i["a"])(t);return`@font-face {\n        font-family: "${e.fontFamily}";\n        src: url('${r}');\n        font-weight: ${e.fontWeight};\n        font-style: ${e.fontStyle};\n    }`}},8508:function(e,t,r){"use strict";var i=r("fa73"),n=r("b221"),s=r("ba28");i["b"].add(s["a"]),i["b"].add(n["a"])},"884a":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("14d9"),r("907a"),r("986a"),r("1d02"),r("3c5d"),r("1b3b"),r("3d71"),r("c6e3");var i=r("6391"),n=r("6b75");const s=class e extends n["a"]{constructor(){var e;super({});let t=null!==(e=arguments.length<=0?void 0:arguments[0])&&void 0!==e?e:{};"number"===typeof t&&(Object(i["a"])(i["b"],"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"),t={width:t,height:arguments.length<=1?void 0:arguments[1],verticesX:arguments.length<=2?void 0:arguments[2],verticesY:arguments.length<=3?void 0:arguments[3]}),this.build(t)}build(t){var r,i,n,s;t={...e.defaultOptions,...t},this.verticesX=null!==(r=this.verticesX)&&void 0!==r?r:t.verticesX,this.verticesY=null!==(i=this.verticesY)&&void 0!==i?i:t.verticesY,this.width=null!==(n=this.width)&&void 0!==n?n:t.width,this.height=null!==(s=this.height)&&void 0!==s?s:t.height;const a=this.verticesX*this.verticesY,o=[],d=[],c=[],l=this.verticesX-1,u=this.verticesY-1,h=this.width/l,f=this.height/u;for(let e=0;e<a;e++){const t=e%this.verticesX,r=e/this.verticesX|0;o.push(t*h,r*f),d.push(t/l,r/u)}const p=l*u;for(let e=0;e<p;e++){const t=e%l,r=e/l|0,i=r*this.verticesX+t,n=r*this.verticesX+t+1,s=(r+1)*this.verticesX+t,a=(r+1)*this.verticesX+t+1;c.push(i,n,s,n,a,s)}this.buffers[0].data=new Float32Array(o),this.buffers[1].data=new Float32Array(d),this.indexBuffer.data=new Uint32Array(c),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}};s.defaultOptions={width:100,height:100,verticesX:10,verticesY:10};let a=s},8852:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var i=r("2714"),n=r("66b2");function s(e,t){const r=e.texture,s=r.frame.width,a=r.frame.height;let o=0,d=0;e._applyAnchorToTexture&&(o=e.anchor.x,d=e.anchor.y),t[0]=t[6]=-o,t[2]=t[4]=1-o,t[1]=t[3]=-d,t[5]=t[7]=1-d;const c=i["a"].shared;c.copyFrom(e._tileTransform.matrix),c.tx/=e.width,c.ty/=e.height,c.invert(),c.scale(e.width/s,e.height/a),Object(n["a"])(t,2,0,c)}},"8d6d":function(e,t,r){"use strict";function i(e,t,r){return new Promise(async i=>{r&&await new Promise(e=>setTimeout(e,100)),e.onload=()=>{i()},e.src="data:image/svg+xml;charset=utf8,"+encodeURIComponent(t),e.crossOrigin="anonymous"})}r.d(t,"a",(function(){return i}))},"8f30":function(e,t,r){"use strict";var i=r("fa73"),n=r("910e");i["b"].add(n["a"])},"910e":function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var i=r("fa73"),n=r("07d6"),s=r("fd09"),a=r("1202"),o=r("75cf"),d=r("6b75"),c=r("b190"),l=r("1486"),u=r("c84a"),h=r("8852");const f=new l["a"];class p{constructor(e){this._tilingSpriteDataHash=Object.create(null),this._renderer=e}validateRenderable(e){const t=this._getTilingSpriteData(e),r=t.canBatch;this._updateCanBatch(e);const i=t.canBatch;if(i&&i===r){const{batchableMesh:r}=t;if(r.texture._source!==e.texture._source)return!r.batcher.checkAndUpdateTexture(r,e.texture)}return r!==i}addRenderable(e,t){const r=this._renderer.renderPipes.batch;this._updateCanBatch(e);const i=this._getTilingSpriteData(e),{geometry:n,canBatch:s}=i;if(s){i.batchableMesh||(i.batchableMesh=new o["a"]);const t=i.batchableMesh;e._didTilingSpriteUpdate&&(e._didTilingSpriteUpdate=!1,this._updateBatchableMesh(e),t.geometry=n,t.mesh=e,t.texture=e._texture),t.roundPixels=this._renderer._roundPixels|e._roundPixels,r.addToBatch(t)}else r.break(t),i.shader||(i.shader=new c["a"]),this.updateRenderable(e),t.add(e)}execute(e){const{shader:t}=this._tilingSpriteDataHash[e.uid];t.groups[0]=this._renderer.globalUniforms.bindGroup;const r=t.resources.localUniforms.uniforms;r.uTransformMatrix=e.groupTransform,r.uRound=this._renderer._roundPixels|e._roundPixels,Object(a["a"])(e.groupColorAlpha,r.uColor,0),this._renderer.encoder.draw({geometry:f,shader:t,state:n["a"].default2d})}updateRenderable(e){const t=this._getTilingSpriteData(e),{canBatch:r}=t;if(r){const{batchableMesh:r}=t;e._didTilingSpriteUpdate&&this._updateBatchableMesh(e),r.batcher.updateElement(r)}else if(e._didTilingSpriteUpdate){const{shader:r}=t;r.updateUniforms(e.width,e.height,e._tileTransform.matrix,e.anchor.x,e.anchor.y,e.texture)}e._didTilingSpriteUpdate=!1}destroyRenderable(e){var t;const r=this._getTilingSpriteData(e);r.batchableMesh=null,null===(t=r.shader)||void 0===t||t.destroy(),this._tilingSpriteDataHash[e.uid]=null}_getTilingSpriteData(e){return this._tilingSpriteDataHash[e.uid]||this._initTilingSpriteData(e)}_initTilingSpriteData(e){const t=new d["a"]({indices:f.indices,positions:f.positions.slice(),uvs:f.uvs.slice()});return this._tilingSpriteDataHash[e.uid]={canBatch:!0,renderable:e,geometry:t},e.on("destroyed",()=>{this.destroyRenderable(e)}),this._tilingSpriteDataHash[e.uid]}_updateBatchableMesh(e){const t=this._getTilingSpriteData(e),{geometry:r}=t,i=e.texture.source.style;"repeat"!==i.addressMode&&(i.addressMode="repeat",i.update()),Object(h["a"])(e,r.uvs),Object(u["a"])(e,r.positions)}destroy(){for(const e in this._tilingSpriteDataHash)this.destroyRenderable(this._tilingSpriteDataHash[e].renderable);this._tilingSpriteDataHash=null,this._renderer=null}_updateCanBatch(e){const t=this._getTilingSpriteData(e),r=e.texture;let i=!0;return this._renderer.type===s["a"].WEBGL&&(i=this._renderer.context.supports.nonPowOf2wrapping),t.canBatch=r.textureMatrix.isSimple&&(i||r.source.isPowerOfTwo),t.canBatch}}p.extension={type:[i["a"].WebGLPipes,i["a"].WebGPUPipes,i["a"].CanvasPipes],name:"tilingSprite"}},9263:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("14d9");var i=r("cfe4");function n(e){const t=e._stroke,r=e._fill,n=["color: "+i["a"].shared.setValue(r.color).toHex(),`font-size: ${e.fontSize}px`,"font-family: "+e.fontFamily,"font-weight: "+e.fontWeight,"font-style: "+e.fontStyle,"font-variant: "+e.fontVariant,`letter-spacing: ${e.letterSpacing}px`,"text-align: "+e.align,`padding: ${e.padding}px`,"white-space: "+("pre"===e.whiteSpace&&e.wordWrap?"pre-wrap":e.whiteSpace),...e.lineHeight?[`line-height: ${e.lineHeight}px`]:[],...e.wordWrap?["word-wrap: "+(e.breakWords?"break-all":"break-word"),`max-width: ${e.wordWrapWidth}px`]:[],...t?[a(t)]:[],...e.dropShadow?[s(e.dropShadow)]:[],...e.cssOverrides].join(";"),o=[`div { ${n} }`];return c(e.tagStyles,o),o.join(" ")}function s(e){const t=i["a"].shared.setValue(e.color).setAlpha(e.alpha).toHexa(),r=Math.round(Math.cos(e.angle)*e.distance),n=Math.round(Math.sin(e.angle)*e.distance),s=`${r}px ${n}px`;return e.blur>0?`text-shadow: ${s} ${e.blur}px ${t}`:`text-shadow: ${s} ${t}`}function a(e){return[`-webkit-text-stroke-width: ${e.width}px`,"-webkit-text-stroke-color: "+i["a"].shared.setValue(e.color).toHex(),`text-stroke-width: ${e.width}px`,"text-stroke-color: "+i["a"].shared.setValue(e.color).toHex(),"paint-order: stroke"].join(";")}const o={fontSize:"font-size: {{VALUE}}px",fontFamily:"font-family: {{VALUE}}",fontWeight:"font-weight: {{VALUE}}",fontStyle:"font-style: {{VALUE}}",fontVariant:"font-variant: {{VALUE}}",letterSpacing:"letter-spacing: {{VALUE}}px",align:"text-align: {{VALUE}}",padding:"padding: {{VALUE}}px",whiteSpace:"white-space: {{VALUE}}",lineHeight:"line-height: {{VALUE}}px",wordWrapWidth:"max-width: {{VALUE}}px"},d={fill:e=>"color: "+i["a"].shared.setValue(e).toHex(),breakWords:e=>"word-wrap: "+(e?"break-all":"break-word"),stroke:a,dropShadow:s};function c(e,t){for(const r in e){const i=e[r],n=[];for(const e in i)d[e]?n.push(d[e](i[e])):o[e]&&n.push(o[e].replace("{{VALUE}}",i[e]));t.push(`${r} { ${n.join(";")} }`)}}},"98c9":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r("34e5"),n=r("8361");const s=new Map;async function a(e,t,r){const a=e.filter(e=>i["a"].has(e+"-and-url")).map((e,a)=>{if(!s.has(e)){const{url:o}=i["a"].get(e+"-and-url");0===a?s.set(e,Object(n["a"])(t,o)):s.set(e,Object(n["a"])({fontWeight:r.fontWeight,fontStyle:r.fontStyle,fontFamily:e},o))}return s.get(e)});return(await Promise.all(a)).join("\n")}},"9ed8":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r("1226"),n=r("4087");const s=new n["a"];function a(e,t,r,n){const a=s;a.minX=0,a.minY=0,a.maxX=e.width/n|0,a.maxY=e.height/n|0;const o=i["a"].getOptimalTexture(a.width,a.height,n,!1);return o.source.uploadMethodId="image",o.source.resource=e,o.source.alphaMode="premultiply-alpha-on-upload",o.frame.width=t/n,o.frame.height=r/n,o.source.emit("update",o.source),o.updateUvs(),o}},aab0:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return n}));const i={name:"local-uniform-msdf-bit",vertex:{header:"\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32,\n                uRound:f32,\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "},fragment:{header:"\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n         ",main:" \n            outColor = vColor * calculateMSDFAlpha(outColor, localUniforms.uDistance);\n        "}},n={name:"local-uniform-msdf-bit",vertex:{header:"\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix *= uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "},fragment:{header:"\n            uniform float uDistance;\n         ",main:" \n            outColor = vColor * calculateMSDFAlpha(outColor, uDistance);\n        "}}},ab6b:function(e,t,r){"use strict";function i(e,t,r,i,n){const{domElement:s,styleElement:a,svgRoot:o}=n;s.innerHTML=`<style>${t.cssStyle}</style><div>${e}</div>`,s.setAttribute("style",`transform: scale(${r});transform-origin: top left; display: inline-block`),a.textContent=i;const{width:d,height:c}=n.image;return o.setAttribute("width",d.toString()),o.setAttribute("height",c.toString()),(new XMLSerializer).serializeToString(o)}r.d(t,"a",(function(){return i}))},b190:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));r("907a"),r("986a"),r("1d02"),r("3c5d"),r("1b3b"),r("3d71"),r("c6e3");var i=r("2714"),n=r("8cbc"),s=r("39bc"),a=r("3f58"),o=r("cb48"),d=r("3456"),c=r("af3f"),l=r("1814");let u,h;class f extends o["a"]{constructor(){var e,t;null!==(e=u)&&void 0!==e||(u=Object(n["b"])({name:"tiling-sprite-shader",bits:[s["a"],l["a"],a["a"]]})),null!==(t=h)&&void 0!==t||(h=Object(n["a"])({name:"tiling-sprite-shader",bits:[s["b"],l["b"],a["b"]]}));const r=new d["a"]({uMapCoord:{value:new i["a"],type:"mat3x3<f32>"},uClampFrame:{value:new Float32Array([0,0,1,1]),type:"vec4<f32>"},uClampOffset:{value:new Float32Array([0,0]),type:"vec2<f32>"},uTextureTransform:{value:new i["a"],type:"mat3x3<f32>"},uSizeAnchor:{value:new Float32Array([100,100,.5,.5]),type:"vec4<f32>"}});super({glProgram:h,gpuProgram:u,resources:{localUniforms:new d["a"]({uTransformMatrix:{value:new i["a"],type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),tilingUniforms:r,uTexture:c["a"].EMPTY.source,uSampler:c["a"].EMPTY.source.style}})}updateUniforms(e,t,r,i,n,s){const a=this.resources.tilingUniforms,o=s.width,d=s.height,c=s.textureMatrix,l=a.uniforms.uTextureTransform;l.set(r.a*o/e,r.b*o/t,r.c*d/e,r.d*d/t,r.tx/e,r.ty/t),l.invert(),a.uniforms.uMapCoord=c.mapCoord,a.uniforms.uClampFrame=c.uClampFrame,a.uniforms.uClampOffset=c.uClampOffset,a.uniforms.uTextureTransform=l,a.uniforms.uSizeAnchor[0]=e,a.uniforms.uSizeAnchor[1]=t,a.uniforms.uSizeAnchor[2]=i,a.uniforms.uSizeAnchor[3]=n,s&&(this.resources.uTexture=s.source,this.resources.uSampler=s.source.style)}}},b221:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var i=r("fa73"),n=r("82b1"),s=r("98d5"),a=r("3c1c");class o{constructor(e){this._gpuText=Object.create(null),this._renderer=e}validateRenderable(e){const t=this._getGpuText(e),r=e._getKey();if(t.currentKey!==r){var i;const r=null!==(i=e.resolution)&&void 0!==i?i:this._renderer.resolution,{width:n,height:s}=this._renderer.canvasText.getTextureSize(e.text,r,e._style);return 1!==this._renderer.canvasText.getReferenceCount(t.currentKey)||n!==t.texture._source.width||s!==t.texture._source.height}return!1}addRenderable(e,t){const r=this._getGpuText(e),i=r.batchableSprite;e._didTextUpdate&&this._updateText(e),this._renderer.renderPipes.batch.addToBatch(i)}updateRenderable(e){const t=this._getGpuText(e),r=t.batchableSprite;e._didTextUpdate&&this._updateText(e),r.batcher.updateElement(r)}destroyRenderable(e){this._destroyRenderableById(e.uid)}_destroyRenderableById(e){const t=this._gpuText[e];this._renderer.canvasText.decreaseReferenceCount(t.currentKey),s["a"].return(t.batchableSprite),this._gpuText[e]=null}_updateText(e){const t=e._getKey(),r=this._getGpuText(e),i=r.batchableSprite;r.currentKey!==t&&this._updateGpuText(e),e._didTextUpdate=!1;const s=e._style.padding;Object(n["a"])(i.bounds,e._anchor,i.texture,s)}_updateGpuText(e){const t=this._getGpuText(e),r=t.batchableSprite;t.texture&&this._renderer.canvasText.decreaseReferenceCount(t.currentKey),t.texture=r.texture=this._renderer.canvasText.getManagedTexture(e),t.currentKey=e._getKey(),r.texture=t.texture}_getGpuText(e){return this._gpuText[e.uid]||this.initGpuText(e)}initGpuText(e){const t={texture:null,currentKey:"--",batchableSprite:s["a"].get(a["a"])};return t.batchableSprite.renderable=e,t.batchableSprite.bounds={minX:0,maxX:1,minY:0,maxY:0},t.batchableSprite.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuText[e.uid]=t,this._updateText(e),e.on("destroyed",()=>{this.destroyRenderable(e)}),t}destroy(){for(const e in this._gpuText)this._destroyRenderableById(e);this._gpuText=null,this._renderer=null}}o.extension={type:[i["a"].WebGLPipes,i["a"].WebGPUPipes,i["a"].CanvasPipes],name:"text"}},b7c7:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r("fc7b"),n=r.n(i),s=r("6391");class a extends n.a{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return Object(s["a"])(s["b"],"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return Object(s["a"])(s["b"],"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return Object(s["a"])(s["b"],"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return Object(s["a"])(s["b"],"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return Object(s["a"])(s["b"],"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.emit("destroy",this),this.removeAllListeners();for(const t in this.chars)this.chars[t].texture.destroy();this.chars=null,e&&(this.pages.forEach(e=>e.texture.destroy(!0)),this.pages=null)}}},b892:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("14d9");var i=r("deec"),n=r("af3f"),s=r("b7c7"),a=r("79e8");class o extends s["a"]{constructor(e,t){var r;super();const{textures:s,data:a}=e;Object.keys(a.pages).forEach(e=>{const t=a.pages[parseInt(e,10)],r=s[t.id];this.pages.push({texture:r})}),Object.keys(a.chars).forEach(e=>{var t;const r=a.chars[e],{frame:o,source:d}=s[r.page],c=new i["a"](r.x+o.x,r.y+o.y,r.width,r.height),l=new n["a"]({source:d,frame:c});this.chars[e]={id:e.codePointAt(0),xOffset:r.xOffset,yOffset:r.yOffset,xAdvance:r.xAdvance,kerning:null!==(t=r.kerning)&&void 0!==t?t:{},texture:l}}),this.baseRenderedFontSize=a.fontSize,this.baseMeasurementFontSize=a.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:a.fontSize},this.baseLineOffset=a.baseLineOffset,this.lineHeight=a.lineHeight,this.fontFamily=a.fontFamily,this.distanceField=null!==(r=a.distanceField)&&void 0!==r?r:{type:"none",range:0},this.url=t}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{texture:t}=this.pages[e];t.destroy(!0)}this.pages=null}static install(e){a["a"].install(e)}static uninstall(e){a["a"].uninstall(e)}}},ba28:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var i=r("cfe4"),n=r("fa73"),s=r("c103"),a=r("6419"),o=r("1226"),d=r("f376"),c=r("6391"),l=r("3430"),u=r("9ed8"),h=r("1ceb"),f=r("94f0"),p=r("36dd");class g{constructor(e){this._activeTextures={},this._renderer=e}getTextureSize(e,t,r){const i=h["a"].measureText(e||" ",r);let n=Math.ceil(Math.ceil(Math.max(1,i.width)+2*r.padding)*t),a=Math.ceil(Math.ceil(Math.max(1,i.height)+2*r.padding)*t);return n=Math.ceil(n-1e-6),a=Math.ceil(a-1e-6),n=Object(s["b"])(n),a=Object(s["b"])(a),{width:n,height:a}}getTexture(e,t,r,i){"string"===typeof e&&(Object(c["a"])("8.0.0","CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"),e={text:e,style:r,resolution:t}),e.style instanceof l["a"]||(e.style=new l["a"](e.style));const{texture:n,canvasAndContext:s}=this.createTextureAndCanvas(e);return this._renderer.texture.initSource(n._source),a["a"].returnCanvasAndContext(s),n}createTextureAndCanvas(e){var t;const{text:r,style:i}=e,n=null!==(t=e.resolution)&&void 0!==t?t:this._renderer.resolution,s=h["a"].measureText(r||" ",i),o=Math.ceil(Math.ceil(Math.max(1,s.width)+2*i.padding)*n),c=Math.ceil(Math.ceil(Math.max(1,s.height)+2*i.padding)*n),l=a["a"].getOptimalCanvasAndContext(o,c),{canvas:f}=l;this.renderTextToCanvas(r,i,n,l);const p=Object(u["a"])(f,o,c,n);if(i.trim){const e=Object(d["a"])(f,n);p.frame.copyFrom(e),p.updateUvs()}return{texture:p,canvasAndContext:l}}getManagedTexture(e){const t=e._getKey();if(this._activeTextures[t])return this._increaseReferenceCount(t),this._activeTextures[t].texture;const{texture:r,canvasAndContext:i}=this.createTextureAndCanvas(e);return this._activeTextures[t]={canvasAndContext:i,texture:r,usageCount:1},r}_increaseReferenceCount(e){this._activeTextures[e].usageCount++}decreaseReferenceCount(e){const t=this._activeTextures[e];if(t.usageCount--,0===t.usageCount){a["a"].returnCanvasAndContext(t.canvasAndContext),o["a"].returnTexture(t.texture);const r=t.texture.source;r.resource=null,r.uploadMethodId="unknown",r.alphaMode="no-premultiply-alpha",this._activeTextures[e]=null}}getReferenceCount(e){return this._activeTextures[e].usageCount}renderTextToCanvas(e,t,r,n){var s;const{canvas:a,context:o}=n,d=Object(f["a"])(t),c=h["a"].measureText(e||" ",t),l=c.lines,u=c.lineHeight,g=c.lineWidths,m=c.maxLineWidth,x=c.fontProperties,b=a.height;o.resetTransform(),o.scale(r,r);const _=2*t.padding;if(o.clearRect(0,0,c.width+4+_,c.height+4+_),null!==(s=t._stroke)&&void 0!==s&&s.width){const e=t._stroke;o.lineWidth=e.width,o.miterLimit=e.miterLimit,o.lineJoin=e.join,o.lineCap=e.cap}let v,y;o.font=d;const T=t.dropShadow?2:1;for(let h=0;h<T;++h){var w,S;const e=t.dropShadow&&0===h,s=e?Math.ceil(Math.max(1,b)+2*t.padding):0,a=s*r;if(e){o.fillStyle="black",o.strokeStyle="black";const e=t.dropShadow,n=e.color,s=e.alpha;o.shadowColor=i["a"].shared.setValue(n).setAlpha(s).toRgbaString();const d=e.blur*r,c=e.distance*r;o.shadowBlur=d,o.shadowOffsetX=Math.cos(e.angle)*c,o.shadowOffsetY=Math.sin(e.angle)*c+a}else{var C,F,P;o.globalAlpha=null!==(C=null===(F=t._fill)||void 0===F?void 0:F.alpha)&&void 0!==C?C:1,o.fillStyle=t._fill?Object(p["a"])(t._fill,o):null,null!==(P=t._stroke)&&void 0!==P&&P.width&&(o.strokeStyle=Object(p["a"])(t._stroke,o)),o.shadowColor="black"}let d=(u-x.fontSize)/2;u-x.fontSize<0&&(d=0);const c=null!==(w=null===(S=t._stroke)||void 0===S?void 0:S.width)&&void 0!==w?w:0;for(let r=0;r<l.length;r++){var M;v=c/2,y=c/2+r*u+x.ascent+d,"right"===t.align?v+=m-g[r]:"center"===t.align&&(v+=(m-g[r])/2),null!==(M=t._stroke)&&void 0!==M&&M.width&&this._drawLetterSpacing(l[r],t,n,v+t.padding,y+t.padding-s,!0),void 0!==t._fill&&this._drawLetterSpacing(l[r],t,n,v+t.padding,y+t.padding-s)}}}_drawLetterSpacing(e,t,r,i,n){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const{context:a}=r,o=t.letterSpacing;let d=!1;if(h["a"].experimentalLetterSpacingSupported&&(h["a"].experimentalLetterSpacing?(a.letterSpacing=o+"px",a.textLetterSpacing=o+"px",d=!0):(a.letterSpacing="0px",a.textLetterSpacing="0px")),0===o||d)return void(s?a.strokeText(e,i,n):a.fillText(e,i,n));let c=i;const l=h["a"].graphemeSegmenter(e);let u=a.measureText(e).width,f=0;for(let h=0;h<l.length;++h){const e=l[h];s?a.strokeText(e,c,n):a.fillText(e,c,n);let t="";for(let r=h+1;r<l.length;++r)t+=l[r];f=a.measureText(t).width,c+=u-f+o,u=f}}destroy(){this._activeTextures=null}}g.extension={type:[n["a"].WebGLSystem,n["a"].WebGPUSystem,n["a"].CanvasSystem],name:"canvasText"}},ba86:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("d9e2"),r("14d9");function i(e){if(""===e)return[];"string"===typeof e&&(e=[e]);const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];if(Array.isArray(i)){if(2!==i.length)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);if(0===i[0].length||0===i[1].length)throw new Error("[BitmapFont]: Invalid character delimiter.");const e=i[0].charCodeAt(0),r=i[1].charCodeAt(0);if(r<e)throw new Error("[BitmapFont]: Invalid character range.");for(let i=e,n=r;i<=n;i++)t.push(String.fromCharCode(i))}else t.push(...Array.from(i))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}},bb3c:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var i=r("34e5"),n=r("fa73"),s=r("98d5"),a=r("f26a"),o=r("4953"),d=r("79e8"),c=r("ec95");class l{constructor(e){this._gpuBitmapText={},this._renderer=e}validateRenderable(e){const t=this._getGpuBitmapText(e);return e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,t)),this._renderer.renderPipes.graphics.validateRenderable(t)}addRenderable(e,t){const r=this._getGpuBitmapText(e);u(e,r),e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,r)),this._renderer.renderPipes.graphics.addRenderable(r,t),r.context.customShader&&this._updateDistanceField(e)}destroyRenderable(e){this._destroyRenderableByUid(e.uid)}_destroyRenderableByUid(e){s["a"].return(this._gpuBitmapText[e]),this._gpuBitmapText[e]=null}updateRenderable(e){const t=this._getGpuBitmapText(e);u(e,t),this._renderer.renderPipes.graphics.updateRenderable(t),t.context.customShader&&this._updateDistanceField(e)}_updateContext(e,t){var r;const{context:i}=t,n=d["a"].getFont(e.text,e._style);i.clear(),"none"!==n.distanceField.type&&(i.customShader||(this._sdfShader||(this._sdfShader=new o["a"]),i.customShader=this._sdfShader));const s=Array.from(e.text),a=e._style;let l=((null===(r=a._stroke)||void 0===r?void 0:r.width)||0)/2;l+=n.baseLineOffset;const u=Object(c["a"])(s,a,n);let h=0;const f=a.padding,p=u.scale;i.translate(-e._anchor._x*u.width-f,-e._anchor._y*(u.height+u.offsetY)-f).scale(p,p);const g=a._fill.color;for(let o=0;o<u.lines.length;o++){const e=u.lines[o];for(let t=0;t<e.charPositions.length;t++){const r=s[h++],a=n.chars[r];null!==a&&void 0!==a&&a.texture&&i.texture(a.texture,g||"black",Math.round(e.charPositions[t]+a.xOffset),Math.round(l+a.yOffset))}l+=n.lineHeight}}_getGpuBitmapText(e){return this._gpuBitmapText[e.uid]||this.initGpuText(e)}initGpuText(e){const t=s["a"].get(a["a"]);return this._gpuBitmapText[e.uid]=t,this._updateContext(e,t),e.on("destroyed",()=>{this.destroyRenderable(e)}),this._gpuBitmapText[e.uid]}_updateDistanceField(e){var t;const r=this._getGpuBitmapText(e).context,n=e._style.fontFamily,s=i["a"].get(n+"-bitmap"),{a:a,b:o,c:d,d:c}=e.groupTransform,l=Math.sqrt(a*a+o*o),u=Math.sqrt(d*d+c*c),h=(Math.abs(l)+Math.abs(u))/2,f=s.baseRenderedFontSize/e._style.fontSize,p=null!==(t=e.resolution)&&void 0!==t?t:this._renderer.resolution,g=h*s.distanceField.range*(1/f)*p;r.customShader.resources.localUniforms.uniforms.uDistance=g}destroy(){var e;for(const t in this._gpuBitmapText)this._destroyRenderableByUid(t);this._gpuBitmapText=null,null===(e=this._sdfShader)||void 0===e||e.destroy(!0),this._sdfShader=null,this._renderer=null}}function u(e,t){t.groupTransform=e.groupTransform,t.groupColorAlpha=e.groupColorAlpha,t.groupColor=e.groupColor,t.groupBlendMode=e.groupBlendMode,t.globalDisplayStatus=e.globalDisplayStatus,t.groupTransform=e.groupTransform,t.localDisplayStatus=e.localDisplayStatus,t.groupAlpha=e.groupAlpha,t._roundPixels=e._roundPixels}l.extension={type:[n["a"].WebGLPipes,n["a"].WebGPUPipes,n["a"].CanvasPipes],name:"bitmapText"}},be84:function(e,t,r){"use strict";var i=r("fa73"),n=r("23e6");i["b"].add(n["a"])},c84a:function(e,t,r){"use strict";function i(e,t){const r=e.anchor.x,i=e.anchor.y;t[0]=-r*e.width,t[1]=-i*e.height,t[2]=(1-r)*e.width,t[3]=-i*e.height,t[4]=(1-r)*e.width,t[5]=(1-i)*e.height,t[6]=-r*e.width,t[7]=(1-i)*e.height}r.d(t,"a",(function(){return i}))},c90b:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("14d9");var i=r("2a40"),n=r("3430"),s=r("88ba"),a=r("9263");class o extends n["a"]{constructor(){var e,t;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(r),this._cssOverrides=[],null!==(e=this.cssOverrides)&&void 0!==e||(this.cssOverrides=r.cssOverrides),this.tagStyles=null!==(t=r.tagStyles)&&void 0!==t?t:{}}set cssOverrides(e){this._cssOverrides=e instanceof Array?e:[e],this.update()}get cssOverrides(){return this._cssOverrides}_generateKey(){return this._styleKey=Object(s["a"])(this)+this._cssOverrides.join("-"),this._styleKey}update(){this._cssStyle=null,super.update()}clone(){return new o({align:this.align,breakWords:this.breakWords,dropShadow:this.dropShadow,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,cssOverrides:this.cssOverrides})}get cssStyle(){return this._cssStyle||(this._cssStyle=Object(a["a"])(this)),this._cssStyle}addOverride(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const i=t.filter(e=>!this.cssOverrides.includes(e));i.length>0&&(this.cssOverrides.push(...i),this.update())}removeOverride(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const i=t.filter(e=>this.cssOverrides.includes(e));i.length>0&&(this.cssOverrides=this.cssOverrides.filter(e=>!i.includes(e)),this.update())}set fill(e){"string"!==typeof e&&"number"!==typeof e&&Object(i["a"])("[HTMLTextStyle] only color fill is not supported by HTMLText"),super.fill=e}set stroke(e){e&&"string"!==typeof e&&"number"!==typeof e&&Object(i["a"])("[HTMLTextStyle] only color stroke is not supported by HTMLText"),super.stroke=e}}},ccc4:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var i=r("fa73"),n=r("07d6"),s=r("98d5"),a=r("1202"),o=r("b03a");class d{constructor(e,t){this.state=n["a"].for2d(),this._graphicsBatchesHash=Object.create(null),this.renderer=e,this._adaptor=t,this._adaptor.init()}validateRenderable(e){const t=e.context,r=!!this._graphicsBatchesHash[e.uid],i=this.renderer.graphicsContext.updateGpuContext(t);return!(!i.isBatchable&&r===i.isBatchable)}addRenderable(e,t){const r=this.renderer.graphicsContext.updateGpuContext(e.context);e._didGraphicsUpdate&&(e._didGraphicsUpdate=!1,this._rebuild(e)),r.isBatchable?this._addToBatcher(e,t):(this.renderer.renderPipes.batch.break(t),t.add(e))}updateRenderable(e){const t=this._graphicsBatchesHash[e.uid];if(t)for(let r=0;r<t.length;r++){const e=t[r];e.batcher.updateElement(e)}}destroyRenderable(e){this._graphicsBatchesHash[e.uid]&&this._removeBatchForRenderable(e.uid)}execute(e){if(!e.isRenderable)return;const t=this.renderer,r=e.context,i=t.graphicsContext;if(!i.getGpuContext(r).batches.length)return;const n=r.customShader||this._adaptor.shader;this.state.blendMode=e.groupBlendMode;const s=n.resources.localUniforms.uniforms;s.uTransformMatrix=e.groupTransform,s.uRound=t._roundPixels|e._roundPixels,Object(a["a"])(e.groupColorAlpha,s.uColor,0),this._adaptor.execute(this,e)}_rebuild(e){const t=!!this._graphicsBatchesHash[e.uid],r=this.renderer.graphicsContext.updateGpuContext(e.context);t&&this._removeBatchForRenderable(e.uid),r.isBatchable&&this._initBatchesForRenderable(e),e.batched=r.isBatchable}_addToBatcher(e,t){const r=this.renderer.renderPipes.batch,i=this._getBatchesForRenderable(e);for(let n=0;n<i.length;n++){const e=i[n];r.addToBatch(e,t)}}_getBatchesForRenderable(e){return this._graphicsBatchesHash[e.uid]||this._initBatchesForRenderable(e)}_initBatchesForRenderable(e){const t=e.context,r=this.renderer.graphicsContext.getGpuContext(t),i=this.renderer._roundPixels|e._roundPixels,n=r.batches.map(t=>{const r=s["a"].get(o["a"]);return t.copyTo(r),r.renderable=e,r.roundPixels=i,r});return this._graphicsBatchesHash[e.uid]=n,e.on("destroyed",()=>{this.destroyRenderable(e)}),n}_removeBatchForRenderable(e){this._graphicsBatchesHash[e].forEach(e=>{s["a"].return(e)}),this._graphicsBatchesHash[e]=null}destroy(){this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null;for(const e in this._graphicsBatchesHash)this._removeBatchForRenderable(e);this._graphicsBatchesHash=null}}d.extension={type:[i["a"].WebGLPipes,i["a"].WebGPUPipes,i["a"].CanvasPipes],name:"graphics"}},d261:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r("1ceb"),n=r("e4cf");let s;function a(e,t,r,a){a=a||s||(s=new n["a"]);const{domElement:o,styleElement:d,svgRoot:c}=a;o.innerHTML=`<style>${t.cssStyle}</style><div>${e}</div>`,o.setAttribute("style","transform-origin: top left; display: inline-block"),r&&(d.textContent=r),document.body.appendChild(c);const l=o.getBoundingClientRect();c.remove();const u=i["a"].measureFont(t.fontStyle).descent;return{width:l.width,height:l.height+u}}},d6b1:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return f}));r("14d9");var i=r("f8c6"),n=r("38cb"),s=r("536a"),a=r("fa73"),o=r("8d27"),d=r("b892"),c=r("16b5"),l=r("57da");const u=[".xml",".fnt"],h={extension:a["a"].CacheParser,test:e=>e instanceof d["a"],getCacheableAssets(e,t){const r={};return e.forEach(e=>{r[e]=t}),r[t.fontFamily+"-bitmap"]=t,r}},f={extension:{type:a["a"].LoadParser,priority:i["a"].Normal},test(e){return u.includes(o["a"].extname(e).toLowerCase())},async testParse(e){return c["a"].test(e)||l["a"].test(e)},async parse(e,t,r){const i=c["a"].test(e)?c["a"].parse(e):l["a"].parse(e),{src:s}=t,{pages:a}=i,u=[];for(let d=0;d<a.length;++d){const e=a[d].file;let t=o["a"].join(o["a"].dirname(s),e);t=Object(n["a"])(t,s),u.push(t)}const h=await r.load(u),f=u.map(e=>h[e]),p=new d["a"]({data:i,textures:f},s);return p},async load(e,t){const r=await s["a"].get().fetch(e);return await r.text()},async unload(e,t,r){await Promise.all(e.pages.map(e=>r.unload(e.texture.source._sourceOrigin))),e.destroy()}}},d7e4:function(e,t,r){"use strict";function i(e,t){t.clear();const r=t.matrix;for(let i=0;i<e.length;i++){const r=e[i];r.globalDisplayStatus<7||(t.matrix=r.worldTransform,r.addBounds(t))}return t.matrix=r,t}r.d(t,"a",(function(){return i}))},dfe2:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("14d9");function i(e,t){const r=t.fontFamily,i=[],n={},s=/font-family:([^;"\s]+)/g,a=e.match(s);function o(e){n[e]||(i.push(e),n[e]=!0)}if(Array.isArray(r))for(let d=0;d<r.length;d++)o(r[d]);else o(r);a&&a.forEach(e=>{const t=e.split(":")[1].trim();o(t)});for(const d in t.tagStyles){const e=t.tagStyles[d].fontFamily;o(e)}return i}},e054:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var i=r("cfe4"),n=r("deec"),s=r("6419"),a=r("5096"),o=r("af3f"),d=r("6391"),c=r("1ceb"),l=r("94f0"),u=r("36dd"),h=r("b7c7"),f=r("ba86");class p extends h["a"]{constructor(e){var t,r,i;super(),this.resolution=1,this.pages=[],this._padding=4,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentPageIndex=-1,this._skipKerning=!1;const n=e,s=n.style.clone();n.overrideFill&&(s._fill.color=16777215,s._fill.alpha=1,s._fill.texture=o["a"].WHITE,s._fill.fill=null);const a=s.fontSize;s.fontSize=this.baseMeasurementFontSize;const d=Object(l["a"])(s);n.overrideSize?s._stroke&&(s._stroke.width*=this.baseRenderedFontSize/a):s.fontSize=this.baseRenderedFontSize=a,this._style=s,this._skipKerning=null!==(t=n.skipKerning)&&void 0!==t&&t,this.resolution=null!==(r=n.resolution)&&void 0!==r?r:1,this._padding=null!==(i=n.padding)&&void 0!==i?i:4,this.fontMetrics=c["a"].measureFont(d),this.lineHeight=s.lineHeight||this.fontMetrics.fontSize||s.fontSize}ensureCharacters(e){const t=Object(f["a"])(e).filter(e=>!this._currentChars.includes(e)).filter((e,t,r)=>r.indexOf(e)===t);if(!t.length)return;let r;this._currentChars=[...this._currentChars,...t],r=-1===this._currentPageIndex?this._nextPage():this.pages[this._currentPageIndex];let{canvas:i,context:s}=r.canvasAndContext,a=r.texture.source;const d=this._style;let l=this._currentX,u=this._currentY;const h=this.baseRenderedFontSize/this.baseMeasurementFontSize,p=this._padding*h,g="italic"===d.fontStyle?2:1;let m=0,x=!1;for(let f=0;f<t.length;f++){var b,_,v,y;const e=t[f],r=c["a"].measureText(e,d,i,!1);r.lineHeight=r.height;const T=g*r.width*h,w=r.height*h,S=T+2*p,C=w+2*p;if(x=!1,"\n"!==e&&"\r"!==e&&"\t"!==e&&" "!==e&&(x=!0,m=Math.ceil(Math.max(C,m))),l+S>512&&(u+=m,m=C,l=0,u+m>512)){a.update();const e=this._nextPage();i=e.canvasAndContext.canvas,s=e.canvasAndContext.context,a=e.texture.source,u=0}const F=T/h-(null!==(b=null===(_=d.dropShadow)||void 0===_?void 0:_.distance)&&void 0!==b?b:0)-(null!==(v=null===(y=d._stroke)||void 0===y?void 0:y.width)&&void 0!==v?v:0);if(this.chars[e]={id:e.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:F,kerning:{}},x){this._drawGlyph(s,r,l+p,u+p,h,d);const t=a.width*h,i=a.height*h,c=new n["a"](l/t*a.width,u/i*a.height,S/t*a.width,C/i*a.height);this.chars[e].texture=new o["a"]({source:a,frame:c}),l+=Math.ceil(S)}}a.update(),this._currentX=l,this._currentY=u,this._skipKerning&&this._applyKerning(t,s)}get pageTextures(){return Object(d["a"])(d["b"],"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(e,t){const r=this._measureCache;for(let i=0;i<e.length;i++){const n=e[i];for(let e=0;e<this._currentChars.length;e++){const i=this._currentChars[e];let s=r[n];s||(s=r[n]=t.measureText(n).width);let a=r[i];a||(a=r[i]=t.measureText(i).width);let o=t.measureText(n+i).width,d=o-(s+a);d&&(this.chars[n].kerning[i]=d),o=t.measureText(n+i).width,d=o-(s+a),d&&(this.chars[i].kerning[n]=d)}}}_nextPage(){this._currentPageIndex++;const e=this.resolution,t=s["a"].getOptimalCanvasAndContext(512,512,e);this._setupContext(t.context,this._style,e);const r=e*(this.baseRenderedFontSize/this.baseMeasurementFontSize),i=new o["a"]({source:new a["a"]({resource:t.canvas,resolution:r,alphaMode:"premultiply-alpha-on-upload"})}),n={canvasAndContext:t,texture:i};return this.pages[this._currentPageIndex]=n,n}_setupContext(e,t,r){var n;t.fontSize=this.baseRenderedFontSize,e.scale(r,r),e.font=Object(l["a"])(t),t.fontSize=this.baseMeasurementFontSize,e.textBaseline=t.textBaseline;const s=t._stroke,a=null!==(n=null===s||void 0===s?void 0:s.width)&&void 0!==n?n:0;if(s&&(e.lineWidth=a,e.lineJoin=s.join,e.miterLimit=s.miterLimit,e.strokeStyle=Object(u["a"])(s,e)),t._fill&&(e.fillStyle=Object(u["a"])(t._fill,e)),t.dropShadow){const n=t.dropShadow,s=i["a"].shared.setValue(n.color).toArray(),a=n.blur*r,o=n.distance*r;e.shadowColor=`rgba(${255*s[0]},${255*s[1]},${255*s[2]},${n.alpha})`,e.shadowBlur=a,e.shadowOffsetX=Math.cos(n.angle)*o,e.shadowOffsetY=Math.sin(n.angle)*o}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}_drawGlyph(e,t,r,i,n,s){var a;const o=t.text,d=t.fontProperties,c=s._stroke,l=(null!==(a=null===c||void 0===c?void 0:c.width)&&void 0!==a?a:0)*n,u=r+l/2,h=i-l/2,f=d.descent*n,p=t.lineHeight*n;s.stroke&&l&&e.strokeText(o,u,h+p-f),s._fill&&e.fillText(o,u,h+p-f)}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{canvasAndContext:t,texture:r}=this.pages[e];s["a"].returnCanvasAndContext(t),r.destroy(!0)}this.pages=null}}},e4cf:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));const i="http://www.w3.org/2000/svg",n="http://www.w3.org/1999/xhtml";class s{constructor(){this.svgRoot=document.createElementNS(i,"svg"),this.foreignObject=document.createElementNS(i,"foreignObject"),this.domElement=document.createElementNS(n,"div"),this.styleElement=document.createElementNS(n,"style"),this.image=new Image;const{foreignObject:e,svgRoot:t,styleElement:r,domElement:s}=this;e.setAttribute("width","10000"),e.setAttribute("height","10000"),e.style.overflow="hidden",t.appendChild(e),e.appendChild(r),e.appendChild(s)}}},e69a:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));r("907a"),r("986a"),r("1d02"),r("3c5d"),r("1b3b"),r("3d71"),r("c6e3"),r("14d9");var i=r("fa73"),n=r("2714"),s=r("12e7"),a=r("45d1c"),o=r("c0bf"),d=r("3456"),c=r("af3f"),l=r("1226"),u=r("fd09"),h=r("4087"),f=r("80d1"),p=r("d7e4"),g=r("2a40");const m=new o["a"]({attributes:{aPosition:{buffer:new Float32Array([0,0,1,0,1,1,0,1]),location:0,format:"float32x2",stride:8,offset:0}},indexBuffer:new Uint32Array([0,1,2,0,2,3])});class x{constructor(e){this._filterStackIndex=0,this._filterStack=[],this._filterGlobalUniforms=new d["a"]({uInputSize:{value:new Float32Array(4),type:"vec4<f32>"},uInputPixel:{value:new Float32Array(4),type:"vec4<f32>"},uInputClamp:{value:new Float32Array(4),type:"vec4<f32>"},uOutputFrame:{value:new Float32Array(4),type:"vec4<f32>"},uGlobalFrame:{value:new Float32Array(4),type:"vec4<f32>"},uOutputTexture:{value:new Float32Array(4),type:"vec4<f32>"}}),this._globalFilterBindGroup=new a["a"]({}),this.renderer=e}get activeBackTexture(){var e;return null===(e=this._activeFilterData)||void 0===e?void 0:e.backTexture}push(e){const t=this.renderer,r=e.filterEffect.filters;this._filterStack[this._filterStackIndex]||(this._filterStack[this._filterStackIndex]=this._getFilterData());const i=this._filterStack[this._filterStackIndex];if(this._filterStackIndex++,0===r.length)return void(i.skip=!0);const n=i.bounds;e.renderables?Object(p["a"])(e.renderables,n):e.filterEffect.filterArea?(n.clear(),n.addRect(e.filterEffect.filterArea),n.applyMatrix(e.container.worldTransform)):Object(f["a"])(e.container,n);const s=t.renderTarget.rootRenderTarget.colorTexture.source;let a=s._resolution,o=0,d=s.antialias,c=!1,u=!1;for(let l=0;l<r.length;l++){var h,m;const e=r[l];a=Math.min(a,e.resolution),o+=e.padding,"inherit"!==e.antialias&&(d="on"===e.antialias);const i=!!(e.compatibleRenderers&t.type);if(!i){u=!1;break}if(e.blendRequired&&null!==(h=null===(m=t.backBuffer)||void 0===m?void 0:m.useBackBuffer)&&void 0!==h&&!h){Object(g["a"])("Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."),u=!1;break}u=e.enabled||u,c=c||e.blendRequired}if(!u)return void(i.skip=!0);const x=t.renderTarget.rootViewPort;n.scale(a).fitBounds(0,x.width,0,x.height).scale(1/a).pad(o).ceil(),n.isPositive?(i.skip=!1,i.bounds=n,i.blendRequired=c,i.container=e.container,i.filterEffect=e.filterEffect,i.previousRenderSurface=t.renderTarget.renderSurface,i.inputTexture=l["a"].getOptimalTexture(n.width,n.height,a,d),t.renderTarget.bind(i.inputTexture,!0),t.globalUniforms.push({offset:n})):i.skip=!0}pop(){const e=this.renderer;this._filterStackIndex--;const t=this._filterStack[this._filterStackIndex];if(t.skip)return;this._activeFilterData=t;const r=t.inputTexture,i=t.bounds;let n=c["a"].EMPTY;if(e.renderTarget.finishRenderPass(),t.blendRequired){const r=this._filterStackIndex>0?this._filterStack[this._filterStackIndex-1].bounds:null,s=e.renderTarget.getRenderTarget(t.previousRenderSurface);n=this.getBackTexture(s,i,r)}t.backTexture=n;const s=t.filterEffect.filters;if(this._globalFilterBindGroup.setResource(r.source.style,2),this._globalFilterBindGroup.setResource(n.source,3),e.globalUniforms.pop(),1===s.length)s[0].apply(this,r,t.previousRenderSurface,!1),l["a"].returnTexture(r);else{let e=t.inputTexture,r=l["a"].getOptimalTexture(i.width,i.height,e.source._resolution,!1),n=0;for(n=0;n<s.length-1;++n){const t=s[n];t.apply(this,e,r,!0);const i=e;e=r,r=i}s[n].apply(this,e,t.previousRenderSurface,!1),l["a"].returnTexture(e),l["a"].returnTexture(r)}t.blendRequired&&l["a"].returnTexture(n)}getBackTexture(e,t,r){const i=e.colorTexture.source._resolution,n=l["a"].getOptimalTexture(t.width,t.height,i,!1);let s=t.minX,a=t.minY;r&&(s-=r.minX,a-=r.minY),s=Math.floor(s*i),a=Math.floor(a*i);const o=Math.ceil(t.width*i),d=Math.ceil(t.height*i);return this.renderer.renderTarget.copyToTexture(e,n,{x:s,y:a},{width:o,height:d},{x:0,y:0}),n}applyFilter(e,t,r,i){const n=this.renderer,a=this._filterStack[this._filterStackIndex],o=a.bounds,d=s["a"].shared,l=a.previousRenderSurface,h=l===r;let f=this.renderer.renderTarget.rootRenderTarget.colorTexture.source._resolution,p=this._filterStackIndex-1;while(p>0&&this._filterStack[p].skip)--p;p>0&&(f=this._filterStack[p].inputTexture.source._resolution);const g=this._filterGlobalUniforms,x=g.uniforms,b=x.uOutputFrame,_=x.uInputSize,v=x.uInputPixel,y=x.uInputClamp,T=x.uGlobalFrame,w=x.uOutputTexture;if(h){let e=this._filterStackIndex;while(e>0){e--;const t=this._filterStack[this._filterStackIndex-1];if(!t.skip){d.x=t.bounds.minX,d.y=t.bounds.minY;break}}b[0]=o.minX-d.x,b[1]=o.minY-d.y}else b[0]=0,b[1]=0;b[2]=t.frame.width,b[3]=t.frame.height,_[0]=t.source.width,_[1]=t.source.height,_[2]=1/_[0],_[3]=1/_[1],v[0]=t.source.pixelWidth,v[1]=t.source.pixelHeight,v[2]=1/v[0],v[3]=1/v[1],y[0]=.5*v[2],y[1]=.5*v[3],y[2]=t.frame.width*_[2]-.5*v[2],y[3]=t.frame.height*_[3]-.5*v[3];const S=this.renderer.renderTarget.rootRenderTarget.colorTexture;T[0]=d.x*f,T[1]=d.y*f,T[2]=S.source.width*f,T[3]=S.source.height*f;const C=this.renderer.renderTarget.getRenderTarget(r);if(n.renderTarget.bind(r,!!i),r instanceof c["a"]?(w[0]=r.frame.width,w[1]=r.frame.height):(w[0]=C.width,w[1]=C.height),w[2]=C.isRoot?-1:1,g.update(),n.renderPipes.uniformBatch){const e=n.renderPipes.uniformBatch.getUboResource(g);this._globalFilterBindGroup.setResource(e,0)}else this._globalFilterBindGroup.setResource(g,0);this._globalFilterBindGroup.setResource(t.source,1),this._globalFilterBindGroup.setResource(t.source.style,2),e.groups[0]=this._globalFilterBindGroup,n.encoder.draw({geometry:m,shader:e,state:e._state,topology:"triangle-list"}),n.type===u["a"].WEBGL&&n.renderTarget.finishRenderPass()}_getFilterData(){return{skip:!1,inputTexture:null,bounds:new h["a"],container:null,filterEffect:null,blendRequired:!1,previousRenderSurface:null}}calculateSpriteMatrix(e,t){const r=this._activeFilterData,i=e.set(r.inputTexture._source.width,0,0,r.inputTexture._source.height,r.bounds.minX,r.bounds.minY),s=t.worldTransform.copyTo(n["a"].shared);return s.invert(),i.prepend(s),i.scale(1/t.texture.frame.width,1/t.texture.frame.height),i.translate(t.anchor.x,t.anchor.y),i}}x.extension={type:[i["a"].WebGLSystem,i["a"].WebGPUSystem],name:"filter"}},ec95:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("14d9");function i(e,t,r){const i={width:0,height:0,offsetY:0,scale:t.fontSize/r.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};i.offsetY=r.baseLineOffset;let o=i.lines[0],d=null,c=!0;const l={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},u=e=>{const t=o.width;for(let r=0;r<l.index;r++){const i=e.positions[r];o.chars.push(e.chars[r]),o.charPositions.push(i+t)}o.width+=e.width,c=!1,l.width=0,l.index=0,l.chars.length=0},h=()=>{let e=o.chars.length-1,t=o.chars[e];while(" "===t)o.width-=r.chars[t].xAdvance,t=o.chars[--e];i.width=Math.max(i.width,o.width),o={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},c=!0,i.lines.push(o),i.height+=r.lineHeight},f=r.baseMeasurementFontSize/t.fontSize,p=t.letterSpacing*f,g=t.wordWrapWidth*f;for(let n=0;n<e.length+1;n++){let i;const s=n===e.length;s||(i=e[n]);const a=r.chars[i]||r.chars[" "],f=/(?:\s)/.test(i),m=f||"\r"===i||"\n"===i||s;if(m){const e=!c&&t.wordWrap&&o.width+l.width-p>g;if(e?(h(),u(l),s||o.charPositions.push(0)):(l.start=o.width,u(l),s||o.charPositions.push(0)),"\r"===i||"\n"===i)0!==o.width&&h();else if(!s){const e=a.xAdvance+(a.kerning[d]||0)+p;o.width+=e,o.spaceWidth=e,o.spacesIndex.push(o.charPositions.length),o.chars.push(i)}}else{const e=a.kerning[d]||0,t=a.xAdvance+e+p;l.positions[l.index++]=l.width+e,l.chars.push(i),l.width+=t}d=i}return h(),"center"===t.align?n(i):"right"===t.align?s(i):"justify"===t.align&&a(i),i}function n(e){for(let t=0;t<e.lines.length;t++){const r=e.lines[t],i=e.width/2-r.width/2;for(let e=0;e<r.charPositions.length;e++)r.charPositions[e]+=i}}function s(e){for(let t=0;t<e.lines.length;t++){const r=e.lines[t],i=e.width-r.width;for(let e=0;e<r.charPositions.length;e++)r.charPositions[e]+=i}}function a(e){const t=e.width;for(let r=0;r<e.lines.length;r++){const i=e.lines[r];let n=0,s=i.spacesIndex[n++],a=0;const o=i.spacesIndex.length,d=(t-i.width)/o,c=d;for(let e=0;e<i.charPositions.length;e++)e===s&&(s=i.spacesIndex[n++],a+=c),i.charPositions[e]+=a}}},f172:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("907a"),r("986a"),r("1d02"),r("3c5d"),r("1b3b"),r("3d71"),r("c6e3");var i=r("c1ba"),n=r("3456");const s=new Int32Array(i["a"]);for(let o=0;o<i["a"];o++)s[o]=o;const a=new n["a"]({uTextures:{value:s,type:"i32",size:i["a"]}},{isStatic:!0})},f376:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("d9e2");var i=r("deec");function n(e,t,r){for(let i=0,n=4*r*t;i<t;++i,n+=4)if(0!==e[n+3])return!1;return!0}function s(e,t,r,i,n){const s=4*t;for(let a=i,o=i*s+4*r;a<=n;++a,o+=s)if(0!==e[o+3])return!1;return!0}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const{width:r,height:a}=e,o=e.getContext("2d",{willReadFrequently:!0});if(null===o)throw new TypeError("Failed to get canvas 2D context");const d=o.getImageData(0,0,r,a),c=d.data;let l=0,u=0,h=r-1,f=a-1;while(u<a&&n(c,r,u))++u;if(u===a)return i["a"].EMPTY;while(n(c,r,f))--f;while(s(c,r,l,u,f))++l;while(s(c,r,h,u,f))--h;return++h,++f,new i["a"](l/t,u/t,(h-l)/t,(f-u)/t)}},f499:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var i=r("6419");function n(e,t){const r=i["a"].getOptimalCanvasAndContext(e.width,e.height,t),{context:n}=r;return n.clearRect(0,0,e.width,e.height),n.drawImage(e,0,0),i["a"].returnCanvasAndContext(r),r.canvas}},fa6b:function(e,t,r){"use strict";var i=r("fa73"),n=r("22ec"),s=r("002a");i["b"].add(n["a"]),i["b"].add(s["a"])},fd10:function(e,t,r){"use strict";var i=r("fa73"),n=r("011b");i["b"].add(n["a"])}}]);
//# sourceMappingURL=chunk-e9d966a6.0f1cfcd7.js.map