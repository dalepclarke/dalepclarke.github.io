{"version":3,"sources":["webpack:///./src/views/groups/School.vue?a5d8","webpack:///./src/components/common/ExpandableImage.vue","webpack:///./src/components/common/ExpandableImage.vue?8b35","webpack:///./src/views/groups/School.vue","webpack:///./src/assets/images/groups/schools2.jpg","webpack:///./src/components/common/ExpandableImage.vue?d433","webpack:///./src/views/groups/School.vue?b0c9"],"names":["main","ref","image","timer","loaded","expanded","imageClasses","computed","value","props","classes","concat","onload","clearInterval","nextTick","emit","getRenderedSize","cWidth","cHeight","oWidth","oHeight","oRatio","width","height","left","clientWidth","right","top","clientHeight","bottom","esc","event","key","closeImage","click","dismissableMask","onExpandedImageClick","closeOnEscape","window","addEventListener","removeEventListener","stopPropagation","freezeVp","preventDefault","imagePosition","naturalWidth","naturalHeight","clientX","clientY","onMounted","complete","setInterval","__exports__","module","exports"],"mappings":"iIAAA,W,i7BC2CQA,EAAOC,mBACPC,EAAQD,mBAERE,EAAQF,mBACRG,EAASH,kBAAI,GACbI,EAAWJ,kBAAI,GAEfK,EAAeC,sBAAS,IACvBH,EAAOI,MAIHC,EAAMC,QAAQC,OAAO,UAHrBF,EAAMC,SAOjB,SAASE,IACPC,cAAcV,EAAMK,OACpBJ,EAAOI,OAAQ,EACfM,sBAAS,KACPC,EAAK,YAIT,SAASC,EAAgBC,EAAQC,EAASC,EAAQC,GAChD,MAAMC,EAASF,EAASC,EAAWD,EAASC,EAAYA,EAAUD,EAC5DG,EAAQH,GAAUC,EAAWC,EAASH,EAAWD,EACjDM,EAASH,EAAUD,EAAUE,EAASJ,EAAUC,EAChDM,GAAQxB,EAAKQ,MAAMiB,YAAcH,GAAS,EAC1CI,EAAQF,EAAOF,EACfK,GAAO3B,EAAKQ,MAAMoB,aAAeL,GAAU,EAC3CM,EAASF,EAAMJ,EACrB,MAAO,CAAEC,OAAMG,MAAKD,QAAOG,UAG7B,SAASC,EAAIC,GACO,WAAdA,EAAMC,KACRC,EAAWF,GAIf,SAASG,EAAMH,GACT1B,EAASG,MACPC,EAAM0B,iBACRC,EAAqBL,IAGvB1B,EAASG,OAAQ,EAEbC,EAAM4B,eACRC,OAAOC,iBAAiB,UAAWT,IAKzC,SAASG,EAAWF,GAClB1B,EAASG,OAAQ,EACjB8B,OAAOE,oBAAoB,UAAWV,GACtCC,EAAMU,kBAGR,SAASC,EAASX,GACZ1B,EAASG,OACXuB,EAAMY,iBAIV,SAASP,EAAqBL,GAC5BA,EAAMU,kBACN,MAAMG,EAAgB5B,EAAgBd,EAAMM,MAAMc,MAAOpB,EAAMM,MAAMe,OAAQrB,EAAMM,MAAMqC,aAAc3C,EAAMM,MAAMsC,gBAC9Gf,EAAMgB,QAAUH,EAAcpB,MAAUO,EAAMgB,QAAUH,EAAclB,OAAWK,EAAMiB,QAAUJ,EAAcjB,KAASI,EAAMiB,QAAUJ,EAAcf,UACzJxB,EAASG,OAAQ,G,OAIrByC,uBAAU,KACH/C,EAAMM,MAAM0C,UAWf9C,EAAOI,OAAQ,EACfM,sBAAS,KACPC,EAAK,aAZPZ,EAAMK,MAAQ2C,YAAY,KACpBjD,EAAMM,MAAM0C,WACd9C,EAAOI,OAAQ,EACfM,sBAAS,KACPC,EAAK,YAEPF,cAAcV,EAAMK,SAErB,O,q2BC1HT,MAAM4C,EAA2B,IAAgB,EAAQ,CAAC,CAAC,YAAY,qBAExD,U,kjICDf,MAAMA,EAA2B,IAAgB,EAAQ,CAAC,CAAC,YAAY,qBAExD,gB,qBCTfC,EAAOC,QAAU,IAA0B,6B,kCCA3C,W,kCCAA,W","file":"js/school.3fa68d84.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./School.vue?vue&type=style&index=1&id=366801d7&lang=scss\"","<template>\r\n  <Teleport to=\"body\" :disabled=\"!expanded\">\r\n    <div ref=\"main\" class=\"expandable-image\" :class=\"{ 'expanded': expanded }\" @click=\"click\" @touchMove=\"freezeVp\">\r\n      <i v-if=\"expanded && loaded\" class=\"btn-close\" @click=\"closeImage\">\r\n        <svg viewBox=\"0 0 24 24\">\r\n          <path fill=\"#666666\" d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\r\n        </svg>\r\n      </i>\r\n      <i v-else-if=\"loaded\" class=\"btn-expand\">\r\n        <svg viewBox=\"0 0 24 24\">\r\n          <path fill=\"#000000\" d=\"M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z\" />\r\n        </svg>\r\n      </i>\r\n      <img ref=\"image\" v-bind=\"$attrs\" :class=\"imageClasses\" loading=\"lazy\" @load=\"onload\" />\r\n      <span v-if=\"title && loaded\" class=\"title\">{{ title }}</span>\r\n    </div>\r\n  </Teleport>\r\n</template>\r\n\r\n<script setup>\r\n  import { ref, computed, defineProps, defineEmits, onMounted, nextTick } from 'vue';\r\n\r\n  const props = defineProps({\r\n    title: {\r\n      type: String,\r\n      default: '' \r\n    },\r\n    dismissableMask: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    closeOnEscape: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    classes: {\r\n      type: [String, Object],\r\n      default: ''\r\n    }\r\n  });\r\n\r\n  const emit = defineEmits(['loaded']);\r\n\r\n  const main = ref();\r\n  const image = ref();\r\n  \r\n  const timer = ref();\r\n  const loaded = ref(false);\r\n  const expanded = ref(false);\r\n\r\n  const imageClasses = computed(() => {\r\n    if (!loaded.value) {\r\n      return props.classes;\r\n    } else {\r\n      // alert('loaded');\r\n      return props.classes.concat('loaded');\r\n    }\r\n  });\r\n\r\n  function onload() {\r\n    clearInterval(timer.value);\r\n    loaded.value = true;\r\n    nextTick(() => {\r\n      emit('loaded');\r\n    });\r\n  }\r\n\r\n  function getRenderedSize(cWidth, cHeight, oWidth, oHeight) {\r\n    const oRatio = oWidth > oHeight ? (oWidth / oHeight) : (oHeight / oWidth);\r\n    const width = oWidth >= oHeight ? (oRatio * cHeight) : cWidth;\r\n    const height = oHeight > oWidth ? (oRatio * cWidth) : cHeight;\r\n    const left = (main.value.clientWidth - width) / 2;\r\n    const right = left + width;\r\n    const top = (main.value.clientHeight - height) / 2;\r\n    const bottom = top + height;\r\n    return { left, top, right, bottom };\r\n  }\r\n\r\n  function esc(event) {\r\n    if (event.key === 'Escape') {\r\n      closeImage(event);\r\n    }\r\n  }\r\n\r\n  function click(event) {\r\n    if (expanded.value) {\r\n      if (props.dismissableMask) {\r\n        onExpandedImageClick(event);\r\n      }\r\n    } else {\r\n      expanded.value = true;\r\n      \r\n      if (props.closeOnEscape) {\r\n        window.addEventListener('keydown', esc);\r\n      }\r\n    }\r\n  }\r\n\r\n  function closeImage(event) {\r\n    expanded.value = false;\r\n    window.removeEventListener('keydown', esc);\r\n    event.stopPropagation();\r\n  }\r\n\r\n  function freezeVp(event) {\r\n    if (expanded.value) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  function onExpandedImageClick(event) {\r\n    event.stopPropagation();\r\n    const imagePosition = getRenderedSize(image.value.width, image.value.height, image.value.naturalWidth, image.value.naturalHeight);\r\n    if ((event.clientX < imagePosition.left) || (event.clientX > imagePosition.right) || (event.clientY < imagePosition.top) || (event.clientY > imagePosition.bottom)) {\r\n      expanded.value = false;\r\n    }\r\n  }\r\n\r\n  onMounted(() => {\r\n    if (!image.value.complete) {\r\n      timer.value = setInterval(() => {\r\n        if (image.value.complete) {\r\n          loaded.value = true;\r\n          nextTick(() => {\r\n            emit('loaded');\r\n          });\r\n          clearInterval(timer.value);\r\n        }\r\n      }, 100);\r\n    } else {\r\n      loaded.value = true;\r\n      nextTick(() => {\r\n        emit('loaded');\r\n      });\r\n    }\r\n  });\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .expandable-image {\r\n    position: relative;\r\n    transition: 0.25s opacity;\r\n    cursor: zoom-in;\r\n    \r\n    img {\r\n      width: 100%;\r\n      border-radius: 0.5em;\r\n      position: relative;\r\n\r\n      //&:not(.loaded) {\r\n      //  display: none;\r\n      //}\r\n    }\r\n    \r\n    .title {\r\n      width: 85%;\r\n      background: rgba(0, 0, 0, 0.85);\r\n      padding: 0.25em 0.5em;\r\n      border-top-left-radius: 0.3em;\r\n      border-top-right-radius: 0.3em;\r\n      font-size: 0.9em;\r\n      text-align: center;\r\n      position: absolute;\r\n      bottom: 0.25em;\r\n      left: 50%;\r\n      z-index: 1;\r\n      transform: translateX(-50%);\r\n      color: white;\r\n    }\r\n\r\n    svg {\r\n      width: 2em;\r\n      height: 2em;\r\n      filter: drop-shadow(1px 1px 1px rgba(0,0,0,0.5));\r\n\r\n      path {\r\n        fill: #FFF;\r\n      }\r\n    }\r\n\r\n    .btn-close {\r\n      position: fixed;\r\n      top: 1em;\r\n      right: 1em;\r\n      z-index: 30;\r\n      cursor: pointer;\r\n\r\n      @media screen and (prefers-reduced-motion: no-preference) and (update: fast) {\r\n        transition: 0.2s scale ease-in-out;\r\n      }\r\n      \r\n      &:hover {\r\n        scale: 1.15;\r\n      }\r\n    }\r\n\r\n    .btn-expand {\r\n      align-items: center;\r\n      justify-content: center;\r\n      padding: 3px;\r\n      position: absolute;\r\n      top: 1em;\r\n      right: 1em;\r\n      z-index: 1;\r\n      opacity: 0;\r\n      \r\n      @media screen and (prefers-reduced-motion: no-preference) and (update: fast) {\r\n        transition: 0.3s opacity;\r\n      }\r\n    }\r\n\r\n    &:hover .btn-expand {\r\n      opacity: 1;\r\n    }\r\n\r\n    &.expanded {\r\n      display: flex;\r\n      align-items: center;\r\n      width: 100%;\r\n      height: 100%;\r\n      padding-bottom: 0 !important;\r\n      background: rgba(0, 0, 0, 0.9);\r\n      position: fixed !important;\r\n      top: 0;\r\n      left: 0;\r\n      z-index: 999999;\r\n      cursor: default;\r\n\r\n      img {\r\n        max-width: 95vw;\r\n        max-height: 99vh;\r\n        object-fit: contain;\r\n        margin: 0 auto;\r\n      }\r\n\r\n      .title {\r\n        width: 100%;\r\n        font-size: 1.2em;\r\n        border-radius: 0;\r\n        bottom: 0;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import script from \"./ExpandableImage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ExpandableImage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ExpandableImage.vue?vue&type=style&index=0&id=794ddda4&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Projects\\\\dev\\\\Little Desert Nature Lodge\\\\ldnl-site\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-794ddda4\"]])\n\nexport default __exports__","import script from \"./School.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./School.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./School.vue?vue&type=style&index=0&id=366801d7&lang=scss&scoped=true\"\nimport \"./School.vue?vue&type=style&index=1&id=366801d7&lang=scss\"\n\nimport exportComponent from \"D:\\\\Projects\\\\dev\\\\Little Desert Nature Lodge\\\\ldnl-site\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-366801d7\"]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/schools2.c37a7f57.jpg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ExpandableImage.vue?vue&type=style&index=0&id=794ddda4&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./School.vue?vue&type=style&index=0&id=366801d7&lang=scss&scoped=true\""],"sourceRoot":""}