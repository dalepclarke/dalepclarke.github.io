(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e8062ac"],{"07d6":function(t,n,e){"use strict";e.d(n,"a",(function(){return d}));const r={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8},o=0,i=1,s=2,u=3,a=4,c=5,l=class t{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<o)}set blend(t){!!(this.data&1<<o)!==t&&(this.data^=1<<o)}get offsets(){return!!(this.data&1<<i)}set offsets(t){!!(this.data&1<<i)!==t&&(this.data^=1<<i)}set cullMode(t){"none"!==t?(this.culling=!0,this.clockwiseFrontFace="front"===t):this.culling=!1}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<s)}set culling(t){!!(this.data&1<<s)!==t&&(this.data^=1<<s)}get depthTest(){return!!(this.data&1<<u)}set depthTest(t){!!(this.data&1<<u)!==t&&(this.data^=1<<u)}get depthMask(){return!!(this.data&1<<c)}set depthMask(t){!!(this.data&1<<c)!==t&&(this.data^=1<<c)}get clockwiseFrontFace(){return!!(this.data&1<<a)}set clockwiseFrontFace(t){!!(this.data&1<<a)!==t&&(this.data^=1<<a)}get blendMode(){return this._blendMode}set blendMode(t){this.blend="none"!==t,this._blendMode=t,this._blendModeId=r[t]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const n=new t;return n.depthTest=!1,n.blend=!0,n}};l.default2d=l.for2d();let d=l},"0828":function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return o}));const r={name:"global-uniforms-bit",vertex:{header:"\n        struct GlobalUniforms {\n            uProjectionMatrix:mat3x3<f32>,\n            uWorldTransformMatrix:mat3x3<f32>,\n            uWorldColorAlpha: vec4<f32>,\n            uResolution: vec2<f32>,\n        }\n\n        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;\n        "}},o={name:"global-uniforms-bit",vertex:{header:"\n          uniform mat3 uProjectionMatrix;\n          uniform mat3 uWorldTransformMatrix;\n          uniform vec4 uWorldColorAlpha;\n          uniform vec2 uResolution;\n        "}}},"088e":function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var r=(t=>(t[t["VERTEX"]=1]="VERTEX",t[t["FRAGMENT"]=2]="FRAGMENT",t[t["COMPUTE"]=4]="COMPUTE",t))(r||{})},"0a79":function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return o}));const r={name:"color-bit",vertex:{header:"\n            @in aColor: vec4<f32>;\n        ",main:"\n            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);\n        "}},o={name:"color-bit",vertex:{header:"\n            in vec4 aColor;\n        ",main:"\n            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);\n        "}}},1202:function(t,n,e){"use strict";function r(t,n,e){const r=(t>>24&255)/255;n[e++]=(255&t)/255*r,n[e++]=(t>>8&255)/255*r,n[e++]=(t>>16&255)/255*r,n[e++]=r}e.d(n,"a",(function(){return r}))},1226:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));e("14d9");var r=e("c103"),o=e("8591"),i=e("af3f");let s=0;class u{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1}createTexture(t,n,e){const r=new o["a"]({...this.textureOptions,width:t,height:n,resolution:1,antialias:e,autoGarbageCollect:!0});return new i["a"]({source:r,label:"texturePool_"+s++})}getOptimalTexture(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,i=Math.ceil(t*e-1e-6),s=Math.ceil(n*e-1e-6);i=Object(r["b"])(i),s=Object(r["b"])(s);const u=(i<<17)+(s<<1)+(o?1:0);this._texturePool[u]||(this._texturePool[u]=[]);let a=this._texturePool[u].pop();return a||(a=this.createTexture(i,s,o)),a.source._resolution=e,a.source.width=i/e,a.source.height=s/e,a.source.pixelWidth=i,a.source.pixelHeight=s,a.frame.x=0,a.frame.y=0,a.frame.width=t,a.frame.height=n,a.updateUvs(),this._poolKeyHash[a.uid]=u,a}getSameSizeTexture(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const e=t.source;return this.getOptimalTexture(t.width,t.height,e._resolution,n)}returnTexture(t){const n=this._poolKeyHash[t.uid];this._texturePool[n].push(t)}clear(t){if(t=!1!==t,t)for(const n in this._texturePool){const t=this._texturePool[n];if(t)for(let n=0;n<t.length;n++)t[n].destroy(!0)}this._texturePool={}}}const a=new u},"13cc":function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));e("14d9");var r=e("088e");function o(t){let{groups:n}=t;const e=[];for(let o=0;o<n.length;o++){const t=n[o];e[t.group]||(e[t.group]=[]),t.isUniform?e[t.group].push({binding:t.binding,visibility:r["a"].VERTEX|r["a"].FRAGMENT,buffer:{type:"uniform"}}):"sampler"===t.type?e[t.group].push({binding:t.binding,visibility:r["a"].FRAGMENT,sampler:{type:"filtering"}}):"texture_2d"===t.type&&e[t.group].push({binding:t.binding,visibility:r["a"].FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}},"1bfc":function(t,n,e){"use strict";function r(t,n,e){return n?t:e?(t=t.replace("out vec4 finalColor;",""),`\n        \n        #ifdef GL_ES // This checks if it is WebGL1\n        #define in varying\n        #define finalColor gl_FragColor\n        #define texture texture2D\n        #endif\n        ${t}\n        `):`\n        \n        #ifdef GL_ES // This checks if it is WebGL1\n        #define in attribute\n        #define out varying\n        #endif\n        ${t}\n        `}e.d(n,"a",(function(){return r}))},3385:function(t,n,e){"use strict";function r(t,n){const e=new Set,r=new Set,o=[...t.structs,...n.structs].filter(t=>!e.has(t.name)&&(e.add(t.name),!0)),i=[...t.groups,...n.groups].filter(t=>{const n=`${t.name}-${t.binding}`;return!r.has(n)&&(r.add(n),!0)});return{structs:o,groups:i}}e.d(n,"a",(function(){return r}))},3456:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r=e("d525"),o=e("7eb3"),i=e("8773");const s=class t{constructor(n,e){this._touched=0,this.uid=Object(r["a"])("uniform"),this._resourceType="uniformGroup",this._resourceId=Object(r["a"])("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,e={...t.defaultOptions,...e},this.uniformStructures=n;const s={};for(const t in n){var u,a;const e=n[t];e.name=t,e.size=null!==(u=e.size)&&void 0!==u?u:1,null!==(a=e.value)&&void 0!==a||(e.value=Object(i["a"])(e.type,e.size)),s[t]=e.value}this.uniforms=s,this._dirtyId=1,this.ubo=e.ubo,this.isStatic=e.isStatic,this._signature=Object(o["a"])(Object.keys(s).map(t=>`${t}-${n[t].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};s.defaultOptions={ubo:!1,isStatic:!1};let u=s},"39bc":function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o}));const r={name:"local-uniform-bit",vertex:{header:"\n\n            struct LocalUniforms {\n                uTransformMatrix:mat3x3<f32>,\n                uColor:vec4<f32>,\n                uRound:f32,\n            }\n\n            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "}},o={...r,vertex:{...r.vertex,header:r.vertex.header.replace("group(1)","group(2)")}},i={name:"local-uniform-bit",vertex:{header:"\n\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix = uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "}}},"3c1c":function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));class r{constructor(){this.vertexSize=4,this.indexSize=6,this.location=0,this.batcher=null,this.batch=null,this.roundPixels=0}get blendMode(){return this.renderable.groupBlendMode}packAttributes(t,n,e,r){const o=this.renderable,i=this.texture,s=o.groupTransform,u=s.a,a=s.b,c=s.c,l=s.d,d=s.tx,f=s.ty,m=this.bounds,h=m.maxX,p=m.minX,g=m.maxY,v=m.minY,x=i.uvs,b=o.groupColorAlpha,y=r<<16|65535&this.roundPixels;t[e+0]=u*p+c*v+d,t[e+1]=l*v+a*p+f,t[e+2]=x.x0,t[e+3]=x.y0,n[e+4]=b,n[e+5]=y,t[e+6]=u*h+c*v+d,t[e+7]=l*v+a*h+f,t[e+8]=x.x1,t[e+9]=x.y1,n[e+10]=b,n[e+11]=y,t[e+12]=u*h+c*g+d,t[e+13]=l*g+a*h+f,t[e+14]=x.x2,t[e+15]=x.y2,n[e+16]=b,n[e+17]=y,t[e+18]=u*p+c*g+d,t[e+19]=l*g+a*p+f,t[e+20]=x.x3,t[e+21]=x.y3,n[e+22]=b,n[e+23]=y}packIndex(t,n,e){t[n]=e+0,t[n+1]=e+1,t[n+2]=e+2,t[n+3]=e+0,t[n+4]=e+2,t[n+5]=e+3}reset(){this.renderable=null,this.texture=null,this.batcher=null,this.batch=null,this.bounds=null}}},"3f58":function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return o}));const r={name:"round-pixels-bit",vertex:{header:"\n            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> \n            {\n                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n            }\n        "}},o={name:"round-pixels-bit",vertex:{header:"   \n            vec2 roundPixels(vec2 position, vec2 targetSize)\n            {       \n                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n            }\n        "}}},"44bc":function(t,n,e){"use strict";function r(t,n,e){const r=e?n.maxSupportedFragmentPrecision:n.maxSupportedVertexPrecision;if("precision"!==t.substring(0,9)){let o=e?n.requestedFragmentPrecision:n.requestedVertexPrecision;return"highp"===o&&"highp"!==r&&(o="mediump"),`precision ${o} float;\n${t}`}return"highp"!==r&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}e.d(n,"a",(function(){return r}))},4600:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));const r=/\{\{(.*?)\}\}/g;function o(t){var n,e;const o={},i=null!==(n=null===(e=t.match(r))||void 0===e?void 0:e.map(t=>t.replace(/[{()}]/g,"")))&&void 0!==n?n:[];return i.forEach(t=>{o[t]=[]}),o}},4937:function(t,n,e){"use strict";function r(t,n){return n?"#version 300 es\n"+t:t}e.d(n,"a",(function(){return r}))},"52f6":function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));e("14d9");function r(t,n){let e;const r=/@out\s+([^;]+);/g;while(null!==(e=r.exec(t)))n.push(e[1])}function o(t){const n=/\b(\w+)\s*:/g,e=n.exec(t);return e?e[1]:""}function i(t){const n=/@.*?\s+/g;return t.replace(n,"")}function s(t,n){const e=[];r(n,e),t.forEach(t=>{t.header&&r(t.header,e)});let s=0;const u=e.sort().map(t=>t.indexOf("builtin")>-1?t:`@location(${s++}) ${t}`).join(",\n"),a=e.sort().map(t=>`       var ${i(t)};`).join("\n"),c=`return VSOutput(\n                ${e.sort().map(t=>" "+o(t)).join(",\n")});`;let l=n.replace(/@out\s+[^;]+;\s*/g,"");return l=l.replace("{{struct}}",`\n${u}\n`),l=l.replace("{{start}}",`\n${a}\n`),l=l.replace("{{return}}",`\n${c}\n`),l}},"5a8b":function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));e("14d9");function r(t,n){let e;const r=/@in\s+([^;]+);/g;while(null!==(e=r.exec(t)))n.push(e[1])}function o(t,n){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=[];r(n,o),t.forEach(t=>{t.header&&r(t.header,o)});const i=o;e&&i.sort();const s=i.map((t,n)=>`       @location(${n}) ${t},`).join("\n");let u=n.replace(/@in\s+[^;]+;\s*/g,"");return u=u.replace("{{in}}",`\n${s}\n`),u}},"6f6c":function(t,n,e){"use strict";e.d(n,"a",(function(){return s})),e.d(n,"b",(function(){return c}));e("14d9");const r={};function o(t){const n=[];if(1===t)n.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),n.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let e=0;for(let r=0;r<t;r++)n.push(`@group(1) @binding(${e++}) var textureSource${r+1}: texture_2d<f32>;`),n.push(`@group(1) @binding(${e++}) var textureSampler${r+1}: sampler;`)}return n.join("\n")}function i(t){const n=[];if(1===t)n.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{n.push("switch vTextureId {");for(let e=0;e<t;e++)e===t-1?n.push("  default:{"):n.push(`  case ${e}:{`),n.push(`      outColor = textureSampleGrad(textureSource${e+1}, textureSampler${e+1}, vUV, uvDx, uvDy);`),n.push("      break;}");n.push("}")}return n.join("\n")}function s(t){return r[t]||(r[t]={name:"texture-batch-bit",vertex:{header:"\n                @in aTextureIdAndRound: vec2<u32>;\n                @out @interpolate(flat) vTextureId : u32;\n            ",main:"\n                vTextureId = aTextureIdAndRound.y;\n            ",end:"\n                if(aTextureIdAndRound.x == 1)\n                {\n                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n                }\n            "},fragment:{header:`\n                @in @interpolate(flat) vTextureId: u32;\n    \n                ${o(16)}\n            `,main:`\n                var uvDx = dpdx(vUV);\n                var uvDy = dpdy(vUV);\n    \n                ${i(16)}\n            `}}),r[t]}const u={};function a(t){const n=[];for(let e=0;e<t;e++)e>0&&n.push("else"),e<t-1&&n.push(`if(vTextureId < ${e}.5)`),n.push("{"),n.push(`\toutColor = texture(uTextures[${e}], vUV);`),n.push("}");return n.join("\n")}function c(t){return u[t]||(u[t]={name:"texture-batch-bit",vertex:{header:"\n                in vec2 aTextureIdAndRound;\n                out float vTextureId;\n              \n            ",main:"\n                vTextureId = aTextureIdAndRound.y;\n            ",end:"\n                if(aTextureIdAndRound.x == 1.)\n                {\n                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n                }\n            "},fragment:{header:`\n                in float vTextureId;\n    \n                uniform sampler2D uTextures[${t}];\n              \n            `,main:`\n    \n                ${a(16)}\n            `}}),u[t]}},"7eb3":function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));const r=Object.create(null),o=Object.create(null);function i(t,n){let e=o[t];return void 0===e&&(void 0===r[n]&&(r[n]=1),o[t]=e=r[n]++),e}},"7f95":function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));e("14d9");var r=e("2a40");function o(t,n,e){if(t)for(const o in t){const i=o.toLocaleLowerCase(),s=n[i];if(s){let n=t[o];"header"===o&&(n=n.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),e&&s.push(`//----${e}----//`),s.push(n)}else Object(r["a"])(o+" placement hook does not exist in shader")}}},8773:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));e("907a"),e("986a"),e("1d02"),e("3c5d"),e("1b3b"),e("3d71"),e("c6e3");function r(t,n){switch(t){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*n);case"vec3<f32>":return new Float32Array(3*n);case"vec4<f32>":return new Float32Array(4*n);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}},"8cbc":function(t,n,e){"use strict";e.d(n,"a",(function(){return c})),e.d(n,"b",(function(){return a}));var r=e("aedf"),o=e("cc83"),i=e("ebc2"),s=e("99f4"),u=e("0828");function a(t){let{bits:n,name:e}=t;const r=Object(i["a"])({template:{fragment:s["a"],vertex:s["c"]},bits:[u["a"],...n]});return o["a"].from({name:e,vertex:{source:r.vertex,entryPoint:"main"},fragment:{source:r.fragment,entryPoint:"main"}})}function c(t){let{bits:n,name:e}=t;return new r["a"]({name:e,...Object(i["b"])({template:{vertex:s["d"],fragment:s["b"]},bits:[u["b"],...n]})})}},"99f4":function(t,n,e){"use strict";e.d(n,"a",(function(){return o})),e.d(n,"b",(function(){return s})),e.d(n,"c",(function(){return r})),e.d(n,"d",(function(){return i}));const r="\n    @in aPosition: vec2<f32>;\n    @in aUV: vec2<f32>;\n\n    @out @builtin(position) vPosition: vec4<f32>;\n    @out vUV : vec2<f32>;\n    @out vColor : vec4<f32>;\n\n    {{header}}\n\n    struct VSOutput {\n        {{struct}}\n    };\n\n    @vertex\n    fn main( {{in}} ) -> VSOutput {\n\n        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;\n        var modelMatrix = mat3x3<f32>(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        var position = aPosition;\n        var uv = aUV;\n\n        {{start}}\n        \n        vColor = vec4<f32>(1., 1., 1., 1.);\n\n        {{main}}\n\n        vUV = uv;\n\n        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;\n\n        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);\n       \n        vColor *= globalUniforms.uWorldColorAlpha;\n\n        {{end}}\n\n        {{return}}\n    };\n",o="\n    @in vUV : vec2<f32>;\n    @in vColor : vec4<f32>;\n   \n    {{header}}\n\n    @fragment\n    fn main(\n        {{in}}\n      ) -> @location(0) vec4<f32> {\n        \n        {{start}}\n\n        var outColor:vec4<f32>;\n      \n        {{main}}\n        \n        return outColor * vColor;\n      };\n",i="\n    in vec2 aPosition;\n    in vec2 aUV;\n\n    out vec4 vColor;\n    out vec2 vUV;\n\n    {{header}}\n\n    void main(void){\n\n        mat3 worldTransformMatrix = uWorldTransformMatrix;\n        mat3 modelMatrix = mat3(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        vec2 position = aPosition;\n        vec2 uv = aUV;\n        \n        {{start}}\n        \n        vColor = vec4(1.);\n        \n        {{main}}\n        \n        vUV = uv;\n        \n        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;\n\n        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n\n        vColor *= uWorldColorAlpha;\n\n        {{end}}\n    }\n",s="\n   \n    in vec4 vColor;\n    in vec2 vUV;\n\n    out vec4 finalColor;\n\n    {{header}}\n\n    void main(void) {\n        \n        {{start}}\n\n        vec4 outColor;\n      \n        {{main}}\n        \n        finalColor = outColor * vColor;\n    }\n"},a4a1:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e("536a");let o;function i(){var t;if(!o||null!==(t=o)&&void 0!==t&&t.isContextLost()){const t=r["a"].get().createCanvas();o=t.getContext("webgl",{})}return o}},a587:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e("fc89");const o={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function i(t){let{source:n,entryPoint:e}=t;const i={},s=n.indexOf("fn "+e);if(-1!==s){const t=n.indexOf("->",s);if(-1!==t){const e=n.substring(s,t),a=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let c;while(null!==(c=a.exec(e))){var u;const t=null!==(u=o[c[3]])&&void 0!==u?u:"float32";i[c[2]]={location:parseInt(c[1],10),format:t,stride:Object(r["a"])(t).stride,offset:0,instance:!1,start:0}}}}return i}},ad27:function(t,n,e){"use strict";function r(t){let{groups:n}=t;const e=[];for(let r=0;r<n.length;r++){const t=n[r];e[t.group]||(e[t.group]={}),e[t.group][t.name]=t.binding}return e}e.d(n,"a",(function(){return r}))},aedf:function(t,n,e){"use strict";e.d(n,"a",(function(){return m}));var r=e("7eb3"),o=e("f6d9"),i=e("1bfc"),s=e("44bc"),u=e("4937"),a=e("af27"),c=e("eadf");const l={stripVersion:c["a"],ensurePrecision:s["a"],addProgramDefines:i["a"],setProgramName:a["a"],insertVersion:u["a"]},d=Object.create(null),f=class t{constructor(n){n={...t.defaultOptions,...n};const e=-1!==n.fragment.indexOf("#version 300 es"),i={stripVersion:e,ensurePrecision:{requestedFragmentPrecision:n.preferredFragmentPrecision,requestedVertexPrecision:n.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:Object(o["a"])()},setProgramName:{name:n.name},addProgramDefines:e,insertVersion:e};let s=n.fragment,u=n.vertex;Object.keys(l).forEach(t=>{const n=i[t];s=l[t](s,n,!0),u=l[t](u,n,!1)}),this.fragment=s,this.vertex=u,this._key=Object(r["a"])(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(n){const e=`${n.vertex}:${n.fragment}`;return d[e]||(d[e]=new t(n)),d[e]}};f.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let m=f},af27:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));const r={},o={};function i(t,n){let{name:e="pixi-program"}=n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=e.replace(/\s+/g,"-"),e+=i?"-fragment":"-vertex";const s=i?r:o;if(s[e]?(s[e]++,e+="-"+s[e]):s[e]=1,-1!==t.indexOf("#define SHADER_NAME"))return t;const u="#define SHADER_NAME "+e;return`${u}\n${t}`}},c95f:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));e("13d5");function r(t){var n,e,r;const o=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,i=/@group\((\d+)\)/,s=/@binding\((\d+)\)/,u=/var(<[^>]+>)? (\w+)/,a=/:\s*(\w+)/,c=/struct\s+(\w+)\s*{([^}]+)}/g,l=/(\w+)\s*:\s*([\w\<\>]+)/g,d=/struct\s+(\w+)/,f=null===(n=t.match(o))||void 0===n?void 0:n.map(t=>({group:parseInt(t.match(i)[1],10),binding:parseInt(t.match(s)[1],10),name:t.match(u)[2],isUniform:"<uniform>"===t.match(u)[1],type:t.match(a)[1]}));if(!f)return{groups:[],structs:[]};const m=null!==(e=null===(r=t.match(c))||void 0===r?void 0:r.map(t=>{const n=t.match(d)[1],e=t.match(l).reduce((t,n)=>{const[e,r]=n.split(":");return t[e.trim()]=r.trim(),t},{});return e?{name:n,members:e}:null}).filter(t=>{let{name:n}=t;return f.some(t=>t.type===n)}))&&void 0!==e?e:[];return{groups:f,structs:m}}},cb48:function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));e("d9e2"),e("14d9");var r=e("fc7b"),o=e.n(r),i=e("aedf"),s=e("45d1c"),u=e("cc83"),a=e("fd09"),c=e("3456");class l extends o.a{constructor(t){super(),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:n,glProgram:e,groups:r,resources:o,compatibleRenderers:i,groupMap:u}=t;this.gpuProgram=n,this.glProgram=e,void 0===i&&(i=0,n&&(i|=a["a"].WEBGPU),e&&(i|=a["a"].WEBGL)),this.compatibleRenderers=i;const l={};if(o||r||(o={}),o&&r)throw new Error("[Shader] Cannot have both resources and groups");if(!n&&r&&!u)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!n&&r&&u)for(const s in u)for(const t in u[s]){const n=u[s][t];l[n]={group:s,binding:t,name:n}}else if(n&&r&&!u){const t=n.structsAndGroups.groups;u={},t.forEach(t=>{u[t.group]=u[t.group]||{},u[t.group][t.binding]=t.name,l[t.name]=t})}else if(o){if(n){const t=n.structsAndGroups.groups;u={},t.forEach(t=>{u[t.group]=u[t.group]||{},u[t.group][t.binding]=t.name,l[t.name]=t})}else{u={},r={99:new s["a"]},this._ownedBindGroups.push(r[99]);let t=0;for(const n in o)l[n]={group:99,binding:t,name:n},u[99]=u[99]||{},u[99][t]=n,t++}r={};for(const t in o){const n=t;let e=o[t];e.source||e._resourceType||(e=new c["a"](e));const i=l[n];i&&(r[i.group]||(r[i.group]=new s["a"],this._ownedBindGroups.push(r[i.group])),r[i.group].setResource(e,i.binding))}}this.groups=r,this._uniformBindMap=u,this.resources=this._buildResourceAccessor(r,l)}addResource(t,n,e){var r,o;(r=this._uniformBindMap)[n]||(r[n]={}),(o=this._uniformBindMap[n])[e]||(o[e]=t),this.groups[n]||(this.groups[n]=new s["a"],this._ownedBindGroups.push(this.groups[n]))}_buildResourceAccessor(t,n){const e={};for(const r in n){const o=n[r];Object.defineProperty(e,o.name,{get(){return t[o.group].getResource(o.binding)},set(n){t[o.group].setResource(n,o.binding)}})}return e}destroy(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n,e;(this.emit("destroy",this),t)&&(null===(n=this.gpuProgram)||void 0===n||n.destroy(),null===(e=this.glProgram)||void 0===e||e.destroy());this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(t=>{t.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(t){const{gpu:n,gl:e,...r}=t;let o,s;return n&&(o=u["a"].from(n)),e&&(s=i["a"].from(e)),new l({gpuProgram:o,glProgram:s,...r})}}},cc83:function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var r=e("7eb3"),o=e("a587"),i=e("c95f"),s=e("13cc"),u=e("ad27"),a=e("3385");const c=Object.create(null);class l{constructor(t){var n,e;this._layoutKey=0;const{fragment:r,vertex:o,layout:c,gpuLayout:l,name:d}=t;if(this.name=d,this.fragment=r,this.vertex=o,r.source===o.source){const t=Object(i["a"])(r.source);this.structsAndGroups=t}else{const t=Object(i["a"])(o.source),n=Object(i["a"])(r.source);this.structsAndGroups=Object(a["a"])(t,n)}this.layout=null!==c&&void 0!==c?c:Object(u["a"])(this.structsAndGroups),this.gpuLayout=null!==l&&void 0!==l?l:Object(s["a"])(this.structsAndGroups),this.autoAssignGlobalUniforms=!(void 0===(null===(n=this.layout[0])||void 0===n?void 0:n.globalUniforms)),this.autoAssignLocalUniforms=!(void 0===(null===(e=this.layout[1])||void 0===e?void 0:e.localUniforms)),this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:n}=this,e=t.source+n.source+t.entryPoint+n.entryPoint;this._layoutKey=Object(r["a"])(e,"program")}get attributeData(){var t;return null!==(t=this._attributeData)&&void 0!==t||(this._attributeData=Object(o["a"])(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(t){const n=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return c[n]||(c[n]=new l(t)),c[n]}}},eadf:function(t,n,e){"use strict";function r(t,n){return n?t.replace("#version 300 es",""):t}e.d(n,"a",(function(){return r}))},ebc2:function(t,n,e){"use strict";e.d(n,"a",(function(){return d})),e.d(n,"b",(function(){return f}));var r=e("7f95"),o=e("4600"),i=e("5a8b"),s=e("52f6"),u=e("ffe3");const a=Object.create(null),c=new Map;let l=0;function d(t){let{template:n,bits:e}=t;const r=h(n,e);if(a[r])return a[r];const{vertex:o,fragment:i}=m(n,e);return a[r]=p(o,i,e),a[r]}function f(t){let{template:n,bits:e}=t;const r=h(n,e);return a[r]||(a[r]=p(n.vertex,n.fragment,e)),a[r]}function m(t,n){const e=n.map(t=>t.vertex).filter(t=>!!t),r=n.map(t=>t.fragment).filter(t=>!!t);let o=Object(i["a"])(e,t.vertex,!0);o=Object(s["a"])(e,o);const u=Object(i["a"])(r,t.fragment,!0);return{vertex:o,fragment:u}}function h(t,n){return n.map(t=>(c.has(t)||c.set(t,l++),c.get(t))).sort((t,n)=>t-n).join("-")+t.vertex+t.fragment}function p(t,n,e){const i=Object(o["a"])(t),s=Object(o["a"])(n);return e.forEach(t=>{Object(r["a"])(t.vertex,i,t.name),Object(r["a"])(t.fragment,s,t.name)}),{vertex:Object(u["a"])(t,i),fragment:Object(u["a"])(n,s)}}},f6d9:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e("a4a1");let o;function i(){if(!o){o="mediump";const t=Object(r["a"])();if(t&&t.getShaderPrecisionFormat){const n=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);o=n.precision?"highp":"mediump"}}return o}},fc89:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));const r={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function o(t){var n;return null!==(n=r[t])&&void 0!==n?n:r.float32}},fd09:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var r=(t=>(t[t["WEBGL"]=1]="WEBGL",t[t["WEBGPU"]=2]="WEBGPU",t[t["BOTH"]=3]="BOTH",t))(r||{})},ffe3:function(t,n,e){"use strict";function r(t,n){let e=t;for(const r in n){const t=n[r],o=t.join("\n");e=o.length?e.replace(`{{${r}}}`,`//-----${r} START-----//\n${t.join("\n")}\n//----${r} FINISH----//`):e.replace(`{{${r}}}`,"")}return e}e.d(n,"a",(function(){return r}))}}]);
//# sourceMappingURL=chunk-5e8062ac.1a22d143.js.map