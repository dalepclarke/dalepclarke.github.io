{"version":3,"sources":["webpack:///./src/views/news/NewsFeed.vue?04fb","webpack:///./src/assets/demonstration/news sync ^\\.\\/.*\\/image\\.png$","webpack:///./src/views/news/NewsFeed.vue?7555","webpack:///./src/assets/demonstration/news sync ^\\.\\/.*\\/info\\.json$","webpack:///./src/views/news/NewsFeed.vue","webpack:///./src/views/news/NewsFeed.vue?058c","webpack:///./src/assets/demonstration/news/ff30debe-b07f-443f-abd0-2aeb5a1ab883/image.png"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","appStore","useAppStore","newsIDs","storeToRefs","updateNews","posts","ref","onBeforeMount","async","Promise","setTimeout","value","length","promises","forEach","index","push","reject","post","require","image","date","Date","style","offset","Math","floor","random","all","then","items","sort","a","b","data","item","datefns","__exports__"],"mappings":"2GAAA,W,uBCAA,IAAIA,EAAM,CACT,mDAAoD,QAIrD,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,Q,oCCtBpB,W,oiBCAA,IAAIH,EAAM,CACT,mDAAoD,QAIrD,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,Q,+gBCWpB,MAAMY,EAAWC,kBACX,QAAEC,GAAYC,eAAYH,IAC1B,WAAEI,GAAeH,iBAEjBI,EAAQC,iBAAI,I,OAYlBC,2BAAcC,UAOZ,GANAJ,UACM,IAAIK,QAASZ,GAAYa,WAAWb,EAAS,MACtB,IAAzBK,EAAQS,MAAMC,cACV,IAAIH,QAASZ,GAAYa,WAAWb,EAAS,OAGjDK,EAAQS,MAAMC,OAAS,EAAG,CAC5B,MAAMC,EAAW,GAEjBX,EAAQS,MAAMG,QAAQ,CAAC1B,EAAI2B,KACzBF,EAASG,KAAK,IAAIP,QAAQ,CAACZ,EAASoB,KAClCP,WAAW,KAET,MAAMQ,EAAOC,UAAS,KAA8B/B,eAEpD8B,EAAKE,MAAQD,UAAS,KAA8B/B,eACpD8B,EAAKG,KAAO,IAAIC,KAAKJ,EAAKG,MAC1BH,EAAKK,MAAQL,EAAKM,OAAU,oBAAmBN,EAAKM,WAAa,GACjE3B,EAAQ,CAAEkB,QAAOG,UAChBO,KAAKC,MAAsB,KAAhBD,KAAKE,SAA0B,WAejDlB,QAAQmB,IAAIf,GAAUgB,KAAMC,IAC1BA,EAAQA,EAAMC,KAAK,CAACC,EAAGC,IACjBD,EAAEjB,MAAQkB,EAAElB,MACP,EACEiB,EAAEjB,MAAQkB,EAAElB,OACb,EAED,GAIX,IAAImB,EAAO,GACXJ,EAAMhB,QAASqB,GAASD,EAAKlB,KAAKmB,EAAKjB,OACvCgB,EAAOA,EAAKH,KAAK,CAACC,EAAGC,IAAMG,sBAAyBJ,EAAEX,KAAMY,EAAEZ,OAC9DhB,EAAMM,MAAQ,CAACuB,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,S,8tCC3FvE,MAAMG,EAA2B,IAAgB,EAAQ,CAAC,CAAC,YAAY,qBAExD,gB,4CCTfvC,EAAOC,QAAU,IAA0B","file":"js/news-feed.19fed241.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./NewsFeed.vue?vue&type=style&index=1&id=74b6dad6&lang=scss\"","var map = {\n\t\"./ff30debe-b07f-443f-abd0-2aeb5a1ab883/image.png\": \"fe73\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"36c9\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./NewsFeed.vue?vue&type=style&index=0&id=74b6dad6&lang=scss&scoped=true\"","var map = {\n\t\"./ff30debe-b07f-443f-abd0-2aeb5a1ab883/info.json\": \"545d\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"5a5d\";","<template>\r\n  <div class=\"news-feed\">\r\n    <div class=\"header\">\r\n      <h1>News</h1>\r\n    </div>\r\n    <div class=\"feed\">\r\n      <div v-for=\"(post, index) in posts\" :key=\"`post-${index}`\" class=\"card\">\r\n        <ExpandableImage :src=\"post.image\" :alt=\"post.title\" dismissableMask closeOnEscape :style=\"post.style\" />\r\n        <!-- <img :alt=\"post.title\" :src=\"post.image\" /> -->\r\n        <div class=\"content\">\r\n          <div class=\"post-header\">\r\n            <h3>{{ post.title }}</h3>\r\n            <span>{{ datefns.format(post.date, 'PPPP') }}</span>\r\n          </div>\r\n          <span>{{ post.excerpt }}</span>\r\n          <router-link class=\"btn\" :to=\"`/news/post/${post.id}`\">\r\n            <Button class=\"p-button-info\" label=\"Read More\" icon=\"pi pi-window-maximize\" iconPos=\"right\" />\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onBeforeMount } from 'vue';\r\nimport * as datefns from 'date-fns';\r\nimport { storeToRefs } from 'pinia';\r\nimport { useAppStore } from '@/stores/app';\r\nimport fetchPlus from '@/utilities/FetchPlus';\r\nimport getHost from '@/utilities/GetHost';\r\nimport ExpandableImage from '@/components/common/ExpandableImage.vue';\r\n\r\nconst appStore = useAppStore();\r\nconst { newsIDs } = storeToRefs(appStore);\r\nconst { updateNews } = useAppStore();\r\n\r\nconst posts = ref([]);\r\n// const posts = ref(Array.from({ length: 8 }).map((item, index) => {\r\n//   return {\r\n//     id: `62470e20-b93f-410a-b435-34777805e49${index}`,\r\n//     title: 'Post Title',\r\n//     date: new Date(),\r\n//     excerpt: 'Post Excerpt',\r\n//     content: 'Post Content',\r\n//     image: 'https://www.thespruceeats.com/thmb/iHmC1x1UNWoq4GP4i_81-xajw5g=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/popular-screwdriver-variations-759820-hero-01-6f67f02622a54bbb8aeabd7eb65bb3a0.jpg'\r\n//   };\r\n// }));\r\n\r\nonBeforeMount(async () => {\r\n  updateNews();\r\n  await new Promise((resolve) => setTimeout(resolve, 200));\r\n  if (newsIDs.value.length === 0) {\r\n    await new Promise((resolve) => setTimeout(resolve, 1800));\r\n  }\r\n\r\n  if (newsIDs.value.length > 0) {\r\n    const promises = [];\r\n\r\n    newsIDs.value.forEach((id, index) => {\r\n      promises.push(new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n          // eslint-disable-next-line import/no-dynamic-require, global-require, @typescript-eslint/no-var-requires\r\n          const post = require(`@/assets/demonstration/news/${id}/info.json`);\r\n          // eslint-disable-next-line import/no-dynamic-require, global-require, @typescript-eslint/no-var-requires\r\n          post.image = require(`@/assets/demonstration/news/${id}/image.png`);\r\n          post.date = new Date(post.date);\r\n          post.style = post.offset ? `object-position: ${post.offset}px` : '';\r\n          resolve({ index, post });\r\n        }, Math.floor(Math.random() * (7500 - 801) - 800));\r\n\r\n        // fetchPlus(`${getHost()}/data/news/${id}/info`, 15).then((post) => {\r\n        //   post.image = `${getHost()}/data/news/${id}/image`;\r\n        //   post.date = new Date(post.date);\r\n        //   post.style = post.offset ? `object-position: ${post.offset}px` : '';\r\n        //   resolve({ index, post });\r\n        // }).catch(() => {\r\n        //   console.error('Failed to fetch post', id);\r\n        //   // eslint-disable-next-line prefer-promise-reject-errors\r\n        //   reject({ index, id });\r\n        // });\r\n      }));\r\n    });\r\n\r\n    Promise.all(promises).then((items) => {\r\n      items = items.sort((a, b) => {\r\n        if (a.index > b.index) {\r\n          return 1;\r\n        } else if (a.index < b.index) {\r\n          return -1;\r\n        } else {\r\n          return 0;\r\n        }\r\n      });\r\n\r\n      let data = [];\r\n      items.forEach((item) => data.push(item.post));\r\n      data = data.sort((a, b) => datefns.compareAscending(a.date, b.date));\r\n      posts.value = [data[0], data[0], data[0], data[0], data[0], data[0]];\r\n    });\r\n  }\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.news-feed {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  width: 100%;\r\n  min-height: 100%;\r\n  max-height: fit-content;\r\n  padding: 0 6rem;\r\n  position: relative;\r\n\r\n  img {\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n    object-fit: contain;\r\n    border-radius: 0.3rem\r\n  }\r\n\r\n  .header {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n  }\r\n\r\n  .feed {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    gap: 0.95rem;\r\n    width: 100%;\r\n\r\n    .card {\r\n      display: grid;\r\n      grid-template-columns: 1fr 2.6fr;\r\n      grid-auto-rows: 13.2em;\r\n      grid-gap: 2em;\r\n      height: 15.2rem;\r\n      padding: 1em;\r\n      background: var(--surface-d);\r\n      border-radius: 0.5em;\r\n      box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);\r\n      overflow: hidden;\r\n\r\n      @media screen and (max-width: 500px) {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        gap: 0.5rem;\r\n      }\r\n\r\n      .content {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: 0.5rem;\r\n        height: 100%;\r\n\r\n        .post-header {\r\n          display: flex;\r\n          align-content: center;\r\n          justify-content: space-between;\r\n          gap: 0.5rem;\r\n        }\r\n\r\n        h3 {\r\n          margin: 0;\r\n          text-align: left;\r\n          font-weight: 600;\r\n        }\r\n\r\n        span {\r\n          text-align: left;\r\n          font-size: 0.9em;\r\n        }\r\n\r\n        .btn {\r\n          align-self: flex-end;\r\n          margin-top: auto;\r\n          margin-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  h1,\r\n  h2 {\r\n    align-self: flex-start;\r\n    margin: 0;\r\n    font-weight: 500;\r\n  }\r\n\r\n  p {\r\n    width: 100%;\r\n    text-align: left;\r\n    margin: 0;\r\n  }\r\n\r\n  @media screen and (min-width: 2000px) {\r\n    padding: 0 3rem;\r\n\r\n    .card {\r\n      height: 17.5rem !important;\r\n\r\n      span {\r\n        font-size: 1.2rem !important;\r\n      }\r\n\r\n      .btn {\r\n        margin-bottom: 2rem !important;\r\n        transform: scale(1.2) translateX(-0.5rem);\r\n      }\r\n    }\r\n  }\r\n\r\n  @media screen and (min-width: 1236px) and (max-width: 1480px) {\r\n    padding: 0 3rem;\r\n\r\n    .card {\r\n      grid-template-columns: 1fr 2fr !important;\r\n    }\r\n  }\r\n\r\n  @media screen and (min-width: 1186px) and (max-width: 1235px) {\r\n    padding: 0 1.5rem;\r\n  }\r\n\r\n  @media screen and (max-width: 1185px) {\r\n    padding: 0 0.5rem;\r\n  }\r\n\r\n  @media screen and (max-width: 1145px) {\r\n    .feed {\r\n      grid-template-columns: 1fr;\r\n    }\r\n\r\n    .card {\r\n      height: fit-content !important;\r\n      grid-auto-rows: 1fr !important;\r\n\r\n      .content {\r\n        width: 100%;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n.feed .expandable-image {\r\n  img {\r\n    aspect-ratio: 1 / 1;\r\n    object-fit: cover;\r\n  }\r\n\r\n  @media screen and (min-width: 2000px) {\r\n    height: fit-content !important;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./NewsFeed.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NewsFeed.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./NewsFeed.vue?vue&type=style&index=0&id=74b6dad6&lang=scss&scoped=true\"\nimport \"./NewsFeed.vue?vue&type=style&index=1&id=74b6dad6&lang=scss\"\n\nimport exportComponent from \"D:\\\\Projects\\\\dev\\\\Little Desert Nature Lodge\\\\ldnl-site\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-74b6dad6\"]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/image.45260bca.png\";"],"sourceRoot":""}